import{V as a,a as p}from"./ViewContent.29936a75.js";import{h as f}from"./IndustryUtil.35abe8a4.js";import{_ as g,i as k}from"./main.e162c083.js";import"./index.c3e79e11.js";const S=Vue.defineComponent({__name:"TableColumnViewContent",props:{idKey:{type:String,required:!0},viewConfig:{type:null,required:!0},viewConfigList:{type:Array,required:!0},handleShowDetail:{type:Function,required:!1},handleEdit:{type:Function,required:!1},handleUpdate:{type:Function,required:!1},handleEditShow:{type:Function,required:!1},handleDelete:{type:Function,required:!1},scale:{type:Number,required:!1,default:1},detailLink:{type:Boolean,required:!1},groupList:{type:Array,required:!1},checkedGroupList:{type:Array,required:!1}},emits:[],setup(h,{expose:c,emit:E}){const e=h;VueRouter.useRouter(),VueRouter.useRoute();const i=Vuex.useStore();i.state.roleCodeList;const t=e.viewConfig,s=e.viewConfigList,r=Vue.ref(e.scale);c({});const d=()=>{const l=[a.Image,a.Video,a.Attachment];return f(s,[],!0,!0).filter(V=>k(l,V.type))},m=l=>d().length;return Vue.watch(()=>e.scale,l=>{r.value=l},{immediate:!0}),(l,V)=>{const w=Vue.resolveComponent("el-card"),y=Vue.resolveComponent("el-space"),C=Vue.resolveComponent("el-table-column");return Vue.openBlock(),Vue.createBlock(C,{type:Vue.unref(t).type===Vue.unref(a).Expand?"expand":"",key:Vue.unref(t).value,prop:Vue.unref(t).value,label:Vue.unref(t).labelKey?Vue.unref(i).state.label[Vue.unref(t).labelKey]:Vue.unref(t).label,width:Vue.unref(t).width<=0?"":Vue.unref(t).width||128,align:Vue.unref(t).align||"center","show-overflow-tooltip":Vue.unref(t).showOverflow},Vue.createSlots({default:Vue.withCtx(()=>[(Vue.unref(t).children||[]).length>0?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(Vue.unref(f)(Vue.unref(t).children,[Vue.unref(a).Image,Vue.unref(a).Video],!1,!0),(o,n)=>(Vue.openBlock(),Vue.createBlock(_,{key:o.value,idKey:e.idKey,viewConfig:o,viewConfigList:Vue.unref(s),handleShowDetail:e.handleShowDetail,handleEdit:e.handleEdit,handleUpdate:e.handleUpdate,handleEditShow:e.handleEditShow,handleDelete:e.handleDelete,scale:r.value},null,8,["idKey","viewConfig","viewConfigList","handleShowDetail","handleEdit","handleUpdate","handleEditShow","handleDelete","scale"]))),128)):Vue.createCommentVNode("v-if",!0)]),_:2},[(Vue.unref(t).children||[]).length<=0?{name:"default",fn:Vue.withCtx(({row:o})=>[Vue.createVNode(p,{idKey:e.idKey,viewConfig:Vue.unref(t),row:o,handleShowDetail:e.handleShowDetail,handleEdit:e.handleEdit,handleUpdate:e.handleUpdate,handleEditShow:e.handleEditShow,handleDelete:e.handleDelete,scale:r.value},Vue.createSlots({_:2},[Vue.unref(t).type===Vue.unref(a).Expand?{name:"expand",fn:Vue.withCtx(n=>[Vue.renderSlot(l.$slots,"expand",{param:n.param}),Vue.createVNode(y,{wrap:""},{default:Vue.withCtx(()=>[m(n.param)>1?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(d(),(u,v)=>(Vue.openBlock(),Vue.createBlock(w,{key:u.value},{header:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(i).state.label[u.labelKey]||u.label),1)]),default:Vue.withCtx(()=>[Vue.createVNode(p,{idKey:e.idKey,viewConfig:u,row:n.param,scale:r.value},null,8,["idKey","viewConfig","row","scale"])]),_:2},1024))),128)):(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:1},Vue.renderList(d(),(u,v)=>(Vue.openBlock(),Vue.createBlock(p,{key:u.value,idKey:e.idKey,viewConfig:u,row:n.param,scale:r.value},null,8,["idKey","viewConfig","row","scale"]))),128))]),_:2},1024)])}:Vue.unref(t).type===Vue.unref(a).Operator?{name:"operator",fn:Vue.withCtx(n=>[Vue.renderSlot(l.$slots,"operator",{param:n.param})])}:Vue.unref(t).type===Vue.unref(a).Template?{name:"template",fn:Vue.withCtx(n=>[Vue.renderSlot(l.$slots,"template",{param:n.param,viewConfig:n.viewConfig})])}:void 0]),1032,["idKey","viewConfig","row","handleShowDetail","handleEdit","handleUpdate","handleEditShow","handleDelete","scale"])])}:void 0]),1032,["type","prop","label","width","align","show-overflow-tooltip"])}}});var _=g(S,[["__file","D:/code/mp-server/src/page/src/page/industry/component/TableColumnViewContent.vue"]]);export{_ as default};
