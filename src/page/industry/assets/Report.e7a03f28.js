import{t as oe,s as re,i as ae,j as ne,m as ie}from"./index.c3e79e11.js";import{q as v,h as _,i as U,o as A,v as de,b as se,a as Ve,_ as pe}from"./main.e162c083.js";import{D as me,a as ce}from"./Common.00b9c206.js";import{V as m}from"./ViewContent.29936a75.js";import fe from"./ViewList.301fe670.js";import ge from"./ImageUpload.ffae63c6.js";import"./IndustryUtil.35abe8a4.js";import"./TableViewContent.c1fd5c92.js";import"./TableColumnViewContent.779ce4dc.js";const be={class:"query-container"},ve={class:"query-btn"},ye=Vue.createTextVNode("Start"),Ce=Vue.createTextVNode("Search"),ke={style:{"font-size":"26px","font-weight":"bold"}},he={style:{"font-weight":"bold"}},we=Vue.createTextVNode(" Add "),Ne=Vue.createTextVNode(" : "),Me=Vue.createTextVNode(" : "),De=Vue.createTextVNode(" Done "),xe={class:"dialog-footer"},Be=Vue.createTextVNode("Cancel"),Fe=Vue.createTextVNode("Confirm"),Ee={class:"dialog-footer"},Le=Vue.createTextVNode("Cancel"),Se=Vue.createTextVNode("Confirm");var _e=Vue.defineComponent({__name:"Report",setup(Ue){VueRouter.useRouter();const M=VueRouter.useRoute(),o=Vuex.useStore(),D=o.state.roleCodeList,K=o.state.user,R=Vue.ref(null),x=Vue.ref(!1),B=Vue.ref(!1),s=Vue.ref(!1),W=new Date(new Date().getTime()-3600*1e3*24*3),T=new Date,l=Vue.reactive({dateTimeList:[W,T],photoVisible:!1,photoList:new Array,query:{data:{startReportDate:v(W,"yyyy-MM-dd"),endReportDate:v(T,"yyyy-MM-dd"),reportId:"",username:"",orderNo:"",projectSequence:"",designNumber:"",productId:""},page:{page:me,limit:ce}},summaryData:{},tableData:new Array,config:{processProcedureList:[],testDeviceList:[],processTypeList:[],scheduleList:[],workMinuteList:[],stopWorkingContent1List:[],stopWorkingContent2List:[],stopWorkingContent3List:[]},formData:{reportId:"",reportDate:v(new Date,"yyyy-MM-dd"),userId:K.userId,username:K.username,orderCount:0,processType:null,schedule:null,workMinute:null,shouldCompleteCount:null,actualCompleteCount:0,serialNoList:new Array,completeMinute:0,leaderSubsidyMinute:0,deviceRunningStartHour:0,deviceRunningStartMinute:0,deviceRunningEndHour:0,productStandMinute:0,deviceRunningEndMinute:0,clampingMinute:0,assistMinute:0,runningMinute:0,remark:"",orderNo:"",testDevice:"",projectSequence:"",designNumber:"",photoList:new Array,stopWorkingContent1:"",stopWorkingMinute1:0,stopWorkingContent2:"",stopWorkingMinute2:0,stopWorkingContent3:"",stopWorkingMinute3:0,improveSuggestion:"",valid:!1},formSave:!1,formVisible:!1,activeReport:null,formRuleList:{reportDate:[{required:!0,message:"\u8BF7\u8F93\u5165\u65E5\u671F",trigger:"blur"}],userId:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],testDevice:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],orderNo:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],processType:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],projectSequence:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],designNumber:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],processProcedure:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],clampingMinute:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],assistMinute:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],runningMinute:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],productStandMinute:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],schedule:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],workMinute:[{required:!0,message:"\u5FC5\u8F93",trigger:"blur"}],serialNoList:[{required:!0,type:"array",message:"\u5FC5\u8F93",min:1}],photoList:[{required:!0,type:"array",message:"\u5FC5\u8F93",min:1,max:4}]}}),H=(n,t,d)=>{if(t===0){let a;try{a=Number(n)}catch{a=1}for(let i=1;i<d.length;i++)d[i]=a+i}},q=()=>{M.query.productId&&_("douson/admin/report",{productId:M.query.productId,reportDate:v(new Date,"yyyy-MM-dd")}).then(n=>{l.formData=Object.assign({},l.formData,n.data||{}),l.formVisible=!0,l.formSave=!n.data.reportId})};_("douson/config").then(n=>{l.config=n.data,q()});const F=()=>{console.log("handleToggleDetail");const n=["clampingMinute","assistMinute","runningMinute","scheduleFormat","serialNoList"];k.value=k.value.map(t=>(n.indexOf(t.value)>=0&&(t.hide=!x.value),t))},I=()=>{console.log("handleToggleRemark");const n=["stopWorkingContent1Format","stopWorkingMinute1","stopWorkingContent2Format","stopWorkingMinute2","stopWorkingContent3Format","stopWorkingMinute3"];k.value=k.value.map(t=>(n.indexOf(t.value)>=0&&(t.hide=!B.value),t))},k=Vue.ref([{value:"expand",label:"",width:48,type:m.Expand},{value:"operator",labelKey:"viewAndEdit",align:"center",width:239,type:m.Operator},{mergeKey:["reportDate","userId"],value:"reportDate",labelKey:"date",showOverflow:!0,width:100},{mergeKey:["reportDate","userId"],value:"username",labelKey:"username",width:100,showOverflow:!0,align:"center"},{mergeKey:["reportDate","userId","testDevice"],value:"testDeviceFormat",labelKey:"deviceNumber",width:134,showOverflow:!0,align:"center"},{value:"orderNo",labelKey:"orderNo",showOverflow:!0,width:96,align:"center",type:m.OrderLink},{value:"projectSequence",labelKey:"projectSequence",showOverflow:!0,width:80,align:"center"},{value:"designNumber",labelKey:"designNumber",width:160,showOverflow:!0},{value:"orderCount",labelKey:"orderCount",width:64,align:"center",type:m.NumberPositive},{value:"processTypeFormat",labelKey:"processType",width:96,align:"center"},{value:"processProcedureFormat",labelKey:"processProcedure",showOverflow:!0},{value:"clampingMinute",labelKey:"clampingMinute",width:64,align:"center"},{value:"assistMinute",labelKey:"assistMinute",width:64,align:"center"},{value:"runningMinute",labelKey:"runningMinute",width:64,align:"center"},{value:"productStandMinute",labelKey:"productStandMinute",width:64,align:"center"},{value:"scheduleFormat",labelKey:"schedule"},{mergeKey:["reportDate","userId","testDevice"],value:"workMinute",labelKey:"workMinute",width:64,align:"center"},{value:"shouldCompleteCount",labelKey:"shouldCompleteCount",width:64,align:"center"},{value:"actualCompleteCount",labelKey:"actualCompleteCount",width:64,align:"center",type:m.HighLight},{value:"serialNoList",labelKey:"serialNo",width:152,align:"center",type:m.SerialNoList},{value:"completeMinute",labelKey:"completeMinute",width:64,align:"center",type:m.HighLight},{value:"leaderSubsidyMinute",labelKey:"leaderSubsidyMinute",width:64,align:"center"},{value:"remark",labelKey:"remark",width:192,align:"center"},{value:"deviceCompletePercentFormat",labelKey:"deviceCompletePercent",width:82,align:"center"},{value:"surplusCount",labelKey:"surplusCount",width:64,align:"center",type:m.Number},{mergeKey:["reportDate","userId","testDevice"],value:"deviceUnitPriceFormat",labelKey:"deviceUnitPrice",width:82,align:"center"},{value:"salaryFormat",labelKey:"salary",width:96,align:"center"},{mergeKey:["reportDate","userId","testDevice"],value:"deviceRunningTime",labelKey:"deviceRunningTime",width:178,align:"center",type:m.DeviceRunningTime},{mergeKey:["reportDate","userId","testDevice"],value:"deviceUsePercentFormat",labelKey:"deviceUsePercent",width:82,align:"center"},{value:"stopWorkingContent1Format",labelKey:"stopWorkingContent1",label:"\u505C\u673A\u5185\u5BB91 N\u1ED9i dung d\u1EEBng m\xE1y 1",width:192,align:"center"},{value:"stopWorkingMinute1",labelKey:"stopWorkingMinute1",width:64,align:"center"},{value:"stopWorkingContent2Format",labelKey:"stopWorkingContent2",width:192,align:"center"},{value:"stopWorkingMinute2",labelKey:"stopWorkingMinute2",width:64,align:"center"},{value:"stopWorkingContent3Format",labelKey:"stopWorkingContent3",width:192,align:"center"},{value:"stopWorkingMinute3",labelKey:"stopWorkingMinute3",width:64,align:"center"},{value:"improveSuggestion",labelKey:"improveSuggestion",width:192,align:"center"},{value:"valid",labelKey:"valid",align:"center",width:86,type:m.Valid},{value:"photoList",labelKey:"photo",align:"center",width:128,type:m.Image}]);F(),I();const p=()=>{l.dateTimeList&&l.dateTimeList.length>1?(l.query.data.startReportDate=v(l.dateTimeList[0],"yyyy-MM-dd hh:mm:ss"),l.query.data.endReportDate=v(l.dateTimeList[1],"yyyy-MM-dd hh:mm:ss")):(l.query.data.startReportDate="",l.query.data.endReportDate=""),_("douson/admin/report/list",l.query.data).then(n=>{ElementPlus.ElMessage.success("Query success");const t=n.list;l.summaryData=n.data||{},l.tableData=t})};p();const O=n=>{l.formVisible=!0,l.formSave=!1,l.formData=Object.assign({},n)},$=()=>{const n=Math.ceil(l.formData.actualCompleteCount)||0,t=n-l.formData.serialNoList.length;if(t>0)for(let d=0;d<t;d++)l.formData.serialNoList.push("");else if(t<0)for(let d=l.formData.serialNoList.length-1;d>=n;d--)l.formData.serialNoList.splice(d,1);l.formData.completeMinute=l.formData.actualCompleteCount*l.formData.productStandMinute},Y=()=>{R.value.validate(n=>{const t=l.formData.deviceRunningStartHour*60+l.formData.deviceRunningStartMinute,d=l.formData.deviceRunningEndHour*60+l.formData.deviceRunningEndMinute;if(t>=d){ElementPlus.ElMessage.error("\u8BBE\u5907\u8FD0\u884C\u65F6\u95F4\u586B\u5199\u9519\u8BEF");return}const a=l.tableData.filter(g=>g.reportDate===l.formData.reportDate&&g.userId===l.formData.userId&&g.testDevice===l.formData.testDevice&&g.reportId!==l.formData.reportId).map(g=>g.currentDeviceUseMinute)||[],i=(a.length<=0?0:a.reduce((g,r)=>g+r)||0)+(d-t),V=i*100/Math.max(l.formData.workMinute||1,1);if(V<85&&!l.formData.improveSuggestion){ElementPlus.ElMessage.error(`\u5F53\u73ED\u8BBE\u5907\u5229\u7528\u7387% T\u1EF7 l\u1EC7 % hi\u1EC7u su\u1EA5t m\xE1y ca: ${V}%, device use: ${i}m`);return}const f=Math.ceil(l.formData.actualCompleteCount)||0,w=l.formData.serialNoList;if(f!=w.length){ElementPlus.ElMessage.error("\u5B8C\u6210\u4EA7\u54C1\u5E8F\u5217\u53F7\u4E0E\u5B9E\u9645\u5B8C\u6210\u6570\u91CF\u4E0D\u5339\u914D");return}n&&(l.formSave?de("douson/admin/report",l.formData).then(()=>{l.formVisible=!1,ElementPlus.ElMessage.success("Add success"),p()}):se("douson/admin/report",l.formData).then(()=>{l.formVisible=!1,ElementPlus.ElMessage.success("Update success"),p()}))})},J=n=>{ElementPlus.ElMessageBox.confirm("Confirm Delete?","Tips",{type:"warning"}).then(()=>{Ve("douson/admin/report",{reportId:n.reportId}).then(()=>{ElementPlus.ElMessage.success("Delete success"),p()})})},G=()=>{l.dateTimeList&&l.dateTimeList.length>1?(l.query.data.startReportDate=v(l.dateTimeList[0],"yyyy-MM-dd hh:mm:ss"),l.query.data.endReportDate=v(l.dateTimeList[1],"yyyy-MM-dd hh:mm:ss")):(l.query.data.startReportDate="",l.query.data.endReportDate=""),p()},{query:c,photoVisible:h,photoList:P,summaryData:z,tableData:Q,config:b,dateTimeList:E,formData:u,formSave:L,formVisible:N,activeReport:Ke,formRuleList:X}={...Vue.toRefs(l)};return(n,t)=>{const d=Vue.resolveComponent("el-date-picker"),a=Vue.resolveComponent("el-input"),i=Vue.resolveComponent("el-option"),V=Vue.resolveComponent("el-select"),f=Vue.resolveComponent("el-button"),w=Vue.resolveComponent("el-switch"),g=Vue.resolveComponent("el-space"),r=Vue.resolveComponent("el-form-item"),y=Vue.resolveComponent("el-input-number"),Z=Vue.resolveComponent("el-icon"),ee=Vue.resolveComponent("el-checkbox"),te=Vue.resolveComponent("el-form"),j=Vue.resolveComponent("el-dialog"),ue=Vue.resolveComponent("el-image"),le=Vue.resolveComponent("el-empty");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",be,[Vue.createVNode(d,{modelValue:Vue.unref(E),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(E)?E.value=e:null),onChange:G,type:"daterange",format:"YYYY-MM-DD","range-separator":"-","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"]),Vue.createVNode(a,{modelValue:Vue.unref(c).data.username,"onUpdate:modelValue":t[1]||(t[1]=e=>Vue.unref(c).data.username=e),onKeyup:Vue.withKeys(p,["enter"]),placeholder:Vue.unref(o).state.label.username,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(a,{modelValue:Vue.unref(c).data.orderNo,"onUpdate:modelValue":t[2]||(t[2]=e=>Vue.unref(c).data.orderNo=e),onKeyup:Vue.withKeys(p,["enter"]),placeholder:Vue.unref(o).state.label.orderNo,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(a,{modelValue:Vue.unref(c).data.projectSequence,"onUpdate:modelValue":t[3]||(t[3]=e=>Vue.unref(c).data.projectSequence=e),onKeyup:Vue.withKeys(p,["enter"]),placeholder:Vue.unref(o).state.label.projectSequence,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(a,{modelValue:Vue.unref(c).data.designNumber,"onUpdate:modelValue":t[4]||(t[4]=e=>Vue.unref(c).data.designNumber=e),onKeyup:Vue.withKeys(p,["enter"]),placeholder:Vue.unref(o).state.label.designNumber,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(V,{modelValue:Vue.unref(c).data.testDevice,"onUpdate:modelValue":t[5]||(t[5]=e=>Vue.unref(c).data.testDevice=e),onChange:p,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(o).state.label.testDevice,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).testDeviceList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createElementVNode("div",ve,[Vue.unref(M).query.productId?(Vue.openBlock(),Vue.createBlock(f,{key:0,icon:Vue.unref(oe),onClick:q,type:"warning"},{default:Vue.withCtx(()=>[ye]),_:1},8,["icon"])):Vue.createCommentVNode("v-if",!0),Vue.createVNode(f,{icon:Vue.unref(re),onClick:p,type:"primary"},{default:Vue.withCtx(()=>[Ce]),_:1},8,["icon"])])]),Vue.createElementVNode("div",null,[Vue.createVNode(g,{wrap:""},{default:Vue.withCtx(()=>[Vue.createVNode(w,{modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=e=>x.value=e),"active-text":"Show order\u3001product info","inactive-text":"Hide order\u3001product info",onChange:F},null,8,["modelValue"]),Vue.createVNode(w,{modelValue:B.value,"onUpdate:modelValue":t[7]||(t[7]=e=>B.value=e),"active-text":"Show remark info","inactive-text":"Hide remark info",onChange:I},null,8,["modelValue"])]),_:1})]),Vue.createElementVNode("div",null,[Vue.createElementVNode("span",ke,Vue.toDisplayString(Vue.unref(o).state.label.salary)+":",1),Vue.createElementVNode("span",he,Vue.toDisplayString(Vue.unref(z).totalSalaryFormat),1)]),Vue.createVNode(fe,{idKey:"reportId",columnConfigList:k.value,list:Vue.unref(Q),handleEdit:O,handleDelete:J},{expand:Vue.withCtx(e=>[Vue.createCommentVNode("        {{ JSON.stringify(row.param.reportId) }}")]),_:1},8,["columnConfigList","list"]),Vue.createVNode(j,{title:Vue.unref(L)?"Add":"Edit",modelValue:Vue.unref(N),"onUpdate:modelValue":t[45]||(t[45]=e=>Vue.isRef(N)?N.value=e:null),width:"60%","close-on-click-modal":!1},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",xe,[Vue.createVNode(f,{onClick:t[44]||(t[44]=e=>N.value=!1)},{default:Vue.withCtx(()=>[Be]),_:1}),Vue.createVNode(f,{type:"primary",onClick:Y},{default:Vue.withCtx(()=>[Fe]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(te,{rules:Vue.unref(X),model:Vue.unref(u),ref_key:"formRef",ref:R,"label-width":"auto","label-position":"top"},{default:Vue.withCtx(()=>[Vue.createVNode(r,{prop:"showFormDetail",label:"Operator"},{default:Vue.withCtx(()=>[Vue.createVNode(w,{modelValue:s.value,"onUpdate:modelValue":t[8]||(t[8]=e=>s.value=e),"active-text":"Show detail","inactive-text":"Hide detail",onChange:F},null,8,["modelValue"])]),_:1}),Vue.createVNode(r,{prop:"reportDate",label:Vue.unref(o).state.label.date},{default:Vue.withCtx(()=>[Vue.createVNode(d,{type:"date",modelValue:Vue.unref(u).reportDate,"onUpdate:modelValue":t[9]||(t[9]=e=>Vue.unref(u).reportDate=e),format:"YYYY-MM-DD",onChange:t[10]||(t[10]=e=>Vue.unref(u).reportDate=Vue.unref(v)(Vue.unref(u).reportDate,"yyyy-MM-dd"))},null,8,["modelValue"])]),_:1},8,["label"]),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:0,prop:"userId",label:Vue.unref(o).state.label.username},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).username,"onUpdate:modelValue":t[11]||(t[11]=e=>Vue.unref(u).username=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:1,prop:"testDevice",label:Vue.unref(o).state.label.deviceNumber},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).testDevice,"onUpdate:modelValue":t[12]||(t[12]=e=>Vue.unref(u).testDevice=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9",disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).testDeviceList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),Vue.createVNode(r,{prop:"orderNo",label:Vue.unref(o).state.label.orderNo},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).orderNo,"onUpdate:modelValue":t[13]||(t[13]=e=>Vue.unref(u).orderNo=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"projectSequence",label:Vue.unref(o).state.label.projectSequence},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).projectSequence,"onUpdate:modelValue":t[14]||(t[14]=e=>Vue.unref(u).projectSequence=e)},null,8,["modelValue"])]),_:1},8,["label"]),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:2,prop:"designNumber",label:Vue.unref(o).state.label.designNumber},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).designNumber,"onUpdate:modelValue":t[15]||(t[15]=e=>Vue.unref(u).designNumber=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:3,prop:"orderCount",label:Vue.unref(o).state.label.orderCount},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).orderCount,"onUpdate:modelValue":t[16]||(t[16]=e=>Vue.unref(u).orderCount=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),Vue.createVNode(r,{prop:"processType",label:Vue.unref(o).state.label.processType},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).processType,"onUpdate:modelValue":t[17]||(t[17]=e=>Vue.unref(u).processType=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).processTypeList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:4,prop:"processProcedure",label:Vue.unref(o).state.label.processProcedure},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).processProcedure,"onUpdate:modelValue":t[18]||(t[18]=e=>Vue.unref(u).processProcedure=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9",disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).processProcedureList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:5,prop:"clampingMinute",label:Vue.unref(o).state.label.clampingMinute},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).clampingMinute,"onUpdate:modelValue":t[19]||(t[19]=e=>Vue.unref(u).clampingMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:6,prop:"assistMinute",label:Vue.unref(o).state.label.assistMinute},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).assistMinute,"onUpdate:modelValue":t[20]||(t[20]=e=>Vue.unref(u).assistMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:7,prop:"runningMinute",label:Vue.unref(o).state.label.runningMinute},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).runningMinute,"onUpdate:modelValue":t[21]||(t[21]=e=>Vue.unref(u).runningMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:8,prop:"productStandMinute",label:Vue.unref(o).state.label.productStandMinute},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).productStandMinute,"onUpdate:modelValue":t[22]||(t[22]=e=>Vue.unref(u).productStandMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),Vue.createVNode(r,{prop:"schedule",label:Vue.unref(o).state.label.schedule},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).schedule,"onUpdate:modelValue":t[23]||(t[23]=e=>Vue.unref(u).schedule=e),clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).scheduleList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"workMinute",label:Vue.unref(o).state.label.workMinute},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).workMinute,"onUpdate:modelValue":t[24]||(t[24]=e=>Vue.unref(u).workMinute=e),filterable:"","allow-create":Vue.unref(U)(Vue.unref(D),"admin"),clearable:"",placeholder:"\u8BF7\u9009\u62E9",onChange:t[25]||(t[25]=e=>Vue.unref(u).shouldCompleteCount=Math.round(10*Vue.unref(u).workMinute/Math.max(Vue.unref(u).clampingMinute+Vue.unref(u).assistMinute+Vue.unref(u).runningMinute,1))/10)},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).workMinuteList,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:`${e.label}\uFF08${e.value}\uFF09`,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","allow-create"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"shouldCompleteCount",label:Vue.unref(o).state.label.shouldCompleteCount},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).shouldCompleteCount,"onUpdate:modelValue":t[26]||(t[26]=e=>Vue.unref(u).shouldCompleteCount=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"actualCompleteCount",label:Vue.unref(o).state.label.actualCompleteCount},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(u).actualCompleteCount,"onUpdate:modelValue":t[27]||(t[27]=e=>Vue.unref(u).actualCompleteCount=e),style:{width:"60px"},controls:!1,min:0,onChange:$},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"serialNoList",label:Vue.unref(o).state.label.serialNoList},{default:Vue.withCtx(()=>[Vue.createVNode(f,{type:"primary",icon:Vue.unref(ae),onClick:t[28]||(t[28]=e=>Vue.unref(u).serialNoList.push(""))},{default:Vue.withCtx(()=>[we]),_:1},8,["icon"]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(u).serialNoList,(e,C)=>(Vue.openBlock(),Vue.createBlock(a,{type:"number",key:`serialNo-${C}`,modelValue:Vue.unref(u).serialNoList[C],"onUpdate:modelValue":S=>Vue.unref(u).serialNoList[C]=S,onBlur:S=>H(e,C,Vue.unref(u).serialNoList),style:{width:"100%","margin-top":"10px"}},Vue.createSlots({prepend:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(`${Vue.unref(u).orderNo}-${Vue.unref(u).projectSequence}-`),1)]),_:2},[C>0?{name:"append",fn:Vue.withCtx(()=>[Vue.createVNode(f,{icon:Vue.unref(ne),onClick:S=>Vue.unref(u).serialNoList.splice(C,1)},null,8,["icon","onClick"])])}:void 0]),1032,["modelValue","onUpdate:modelValue","onBlur"]))),128))]),_:1},8,["label"]),s.value?(Vue.openBlock(),Vue.createBlock(r,{key:9,prop:"completeMinute",label:Vue.unref(o).state.label.completeMinute},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).completeMinute,"onUpdate:modelValue":t[29]||(t[29]=e=>Vue.unref(u).completeMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("v-if",!0),Vue.createVNode(r,{prop:"leaderSubsidyMinute",label:Vue.unref(o).state.label.leaderSubsidyMinute},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(u).leaderSubsidyMinute,"onUpdate:modelValue":t[30]||(t[30]=e=>Vue.unref(u).leaderSubsidyMinute=e),style:{width:"60px"},controls:!1,min:0,disabled:!Vue.unref(U)(Vue.unref(D),"admin")},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"deviceRunningTime",label:Vue.unref(o).state.label.deviceRunningTime},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(u).deviceRunningStartHour,"onUpdate:modelValue":t[31]||(t[31]=e=>Vue.unref(u).deviceRunningStartHour=e),style:{width:"100px"},disabled:Vue.unref(L),controls:!1},null,8,["modelValue","disabled"]),Ne,Vue.createVNode(y,{modelValue:Vue.unref(u).deviceRunningStartMinute,"onUpdate:modelValue":t[32]||(t[32]=e=>Vue.unref(u).deviceRunningStartMinute=e),style:{width:"60px"},disabled:Vue.unref(L),controls:!1},null,8,["modelValue","disabled"]),Vue.createVNode(Z,{style:{margin:"0 20px"}},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ie))]),_:1}),Vue.createVNode(y,{modelValue:Vue.unref(u).deviceRunningEndHour,"onUpdate:modelValue":t[33]||(t[33]=e=>Vue.unref(u).deviceRunningEndHour=e),style:{width:"100px"},min:Vue.unref(u).deviceRunningStartMinute>=59?Vue.unref(u).deviceRunningStartHour+1:Vue.unref(u).deviceRunningStartHour,controls:!1},null,8,["modelValue","min"]),Me,Vue.createVNode(y,{modelValue:Vue.unref(u).deviceRunningEndMinute,"onUpdate:modelValue":t[34]||(t[34]=e=>Vue.unref(u).deviceRunningEndMinute=e),style:{width:"60px"},controls:!1,min:Vue.unref(u).deviceRunningEndHour>Vue.unref(u).deviceRunningStartHour?0:Vue.unref(u).deviceRunningStartMinute,max:59},null,8,["modelValue","min"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"remark",label:Vue.unref(o).state.label.remark},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).remark,"onUpdate:modelValue":t[35]||(t[35]=e=>Vue.unref(u).remark=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"photoList",label:Vue.unref(o).state.label.photo},{default:Vue.withCtx(()=>[Vue.createVNode(ge,{photoList:Vue.unref(u).photoList},null,8,["photoList"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent1",label:Vue.unref(o).state.label.stopWorkingContent1},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).stopWorkingContent1,"onUpdate:modelValue":t[36]||(t[36]=e=>Vue.unref(u).stopWorkingContent1=e),filterable:"","allow-create":"",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).stopWorkingContent1List,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute1",label:Vue.unref(o).state.label.stopWorkingMinute1},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).stopWorkingMinute1,"onUpdate:modelValue":t[37]||(t[37]=e=>Vue.unref(u).stopWorkingMinute1=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent2",label:Vue.unref(o).state.label.stopWorkingContent2},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).stopWorkingContent2,"onUpdate:modelValue":t[38]||(t[38]=e=>Vue.unref(u).stopWorkingContent2=e),filterable:"","allow-create":"",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).stopWorkingContent2List,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute2",label:Vue.unref(o).state.label.stopWorkingMinute2},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).stopWorkingMinute2,"onUpdate:modelValue":t[39]||(t[39]=e=>Vue.unref(u).stopWorkingMinute2=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent3",label:Vue.unref(o).state.label.stopWorkingContent3},{default:Vue.withCtx(()=>[Vue.createVNode(V,{modelValue:Vue.unref(u).stopWorkingContent3,"onUpdate:modelValue":t[40]||(t[40]=e=>Vue.unref(u).stopWorkingContent3=e),filterable:"","allow-create":"",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(b).stopWorkingContent3List,e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute3",label:Vue.unref(o).state.label.stopWorkingMinute3},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"number",modelValue:Vue.unref(u).stopWorkingMinute3,"onUpdate:modelValue":t[41]||(t[41]=e=>Vue.unref(u).stopWorkingMinute3=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"improveSuggestion",label:Vue.unref(o).state.label.improveSuggestion},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:Vue.unref(u).improveSuggestion,"onUpdate:modelValue":t[42]||(t[42]=e=>Vue.unref(u).improveSuggestion=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"valid",label:Vue.unref(o).state.label.valid},{default:Vue.withCtx(()=>[Vue.createVNode(ee,{modelValue:Vue.unref(u).valid,"onUpdate:modelValue":t[43]||(t[43]=e=>Vue.unref(u).valid=e),name:"valid",disabled:!Vue.unref(U)(Vue.unref(D),"admin")},{default:Vue.withCtx(()=>[De]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"]),Vue.createVNode(j,{title:"\u67E5\u770B\u7167\u7247",modelValue:Vue.unref(h),"onUpdate:modelValue":t[48]||(t[48]=e=>Vue.isRef(h)?h.value=e:null),width:"60%"},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Ee,[Vue.createVNode(f,{onClick:t[46]||(t[46]=e=>h.value=!1)},{default:Vue.withCtx(()=>[Le]),_:1}),Vue.createVNode(f,{type:"primary",onClick:t[47]||(t[47]=e=>h.value=!1)},{default:Vue.withCtx(()=>[Se]),_:1})])]),default:Vue.withCtx(()=>[Vue.unref(P).length>0?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(Vue.unref(P),e=>(Vue.openBlock(),Vue.createBlock(ue,{src:Vue.unref(A)(e.photoCompressUrl,""),fit:"cover","preview-src-list":[Vue.unref(A)(e.photoUrl,"")],"initial-index":0,class:"image-view"},null,8,["src","preview-src-list"]))),256)):(Vue.openBlock(),Vue.createBlock(le,{key:1,description:"Empty"}))]),_:1},8,["modelValue"])])}}}),Oe=pe(_e,[["__file","D:/code/mp-server/src/page/src/page/industry/admin/product/Report.vue"]]);export{Oe as default};
