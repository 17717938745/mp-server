import{s as S,p as q,e as R}from"./index.c3e79e11.js";import{i as _,h as M,v as K,b as A,a as U,_ as $}from"./main.e162c083.js";import{D as W,a as z}from"./Common.00b9c206.js";const G={class:"query-container"},Q={class:"query-btn"},j=Vue.createTextVNode("Search "),J=Vue.createTextVNode("Add "),H=Vue.createTextVNode(" Edit "),X=Vue.createTextVNode(" Delete "),Y={class:"dialog-footer"},Z=Vue.createTextVNode("Cancel"),ee=Vue.createTextVNode("Confirm");var ae=Vue.defineComponent({__name:"Param",setup(te){const e=Vuex.useStore(),C=e.state.roleCodeList,h=Vue.ref(null),l=Vue.reactive({query:{data:{paramCategoryId:""},page:{page:W,limit:z}},tableData:new Array,formData:{paramCategoryId:"",paramCode:"",paramName:"",paramValue:null,sorter:0},formSave:!1,formVisible:!1,formRuleList:{paramCategoryId:[{required:!0,message:"\u8BF7\u9009\u62E9\u53C2\u6570\u7C7B\u578B",trigger:"blur"}],paramCode:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u7F16\u7801",trigger:"blur"}],paramName:[{required:!0,message:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0",trigger:"blur"}],sorter:[{required:!0,message:"\u8BF7\u8F93\u5165\u6392\u5E8F",trigger:"blur"}]}}),V=[{labelKey:"paramManage",paramCategoryIdOptionList:[{value:"schedule",label:e.state.label.schedule},{value:"accidentType",label:e.state.label.accidentType},{value:"department",label:e.state.label.department},{value:"profession",label:e.state.label.profession},{value:"chineseVietnamName",label:e.state.label.chineseVietnamName},{value:"calibrationPeriod",label:e.state.label.calibrationPeriod},{value:"storage",label:e.state.label.storage},{value:"deviceCheckLedgerState",label:e.state.label.deviceCheckLedgerState}]},{labelKey:"userManage",paramCategoryIdOptionList:[{value:"userProperty",label:e.state.label.userProperty}]},{labelKey:"productQuotaManage",paramCategoryIdOptionList:[{value:"processProcedure",label:e.state.label.processProcedure}]},{labelKey:"userRunReport",paramCategoryIdOptionList:[{value:"processType",label:e.state.label.processType},{value:"workMinute",label:e.state.label.workMinute},{value:"stopWorkingContent1",label:e.state.label.stopWorkingContent1},{value:"stopWorkingContent2",label:e.state.label.stopWorkingContent2},{value:"stopWorkingContent3",label:e.state.label.stopWorkingContent3}]},{labelKey:"boxFlagCard",paramCategoryIdOptionList:[{value:"customerShortName",label:e.state.label.customerShortName}]},{labelKey:"disqualificationOrder",paramCategoryIdOptionList:[{value:"process",label:e.state.label.process},{value:"checkPoint",label:e.state.label.checkPoint},{value:"qualityDealOpinion",label:e.state.label.qualityDealOpinion},{value:"skillDealOpinion",label:e.state.label.skillDealOpinion},{value:"defectType",label:e.state.label.defectType}]},{labelKey:"accidentQuality",paramCategoryIdOptionList:[{value:"qualityReason",label:e.state.label.qualityReason}]},{labelKey:"keepImprove",paramCategoryIdOptionList:[{value:"optimizeType",label:e.state.label.optimizeType}]},{labelKey:"computerManage",paramCategoryIdOptionList:[{value:"computerName",label:e.state.label.computerName},{value:"companyPosition",label:e.state.label.companyPosition},{value:"computerState",label:e.state.label.computerState}]},{labelKey:"accidentEvent",paramCategoryIdOptionList:[{value:"eventReason",label:e.state.label.eventReason},{value:"improveReason",label:e.state.label.accidentImproveReason}]},{labelKey:"productMachine",paramCategoryIdOptionList:[{value:"equipmentPosition",label:e.state.label.equipmentPosition},{value:"brokenReason",label:e.state.label.brokenReason},{value:"repairType",label:e.state.label.repairType}]}],N=u=>{for(let t=0;t<V.length;t++){const i=V[t].paramCategoryIdOptionList||[];for(let n=0;n<i.length;n++){const d=i[n];if(d.value===u)return d.label}}return u},s=()=>{M("douson/admin/param/list",l.query.data).then(u=>{l.tableData=u.list,ElementPlus.ElMessage.success("Query success")})},x=()=>{o.value.paramCategoryId=l.query.data.paramCategoryId,s()},w=()=>{l.formVisible=!0,l.formSave=!0},B=u=>{l.formVisible=!0,l.formSave=!1,l.formData=Object.assign({},u)},I=()=>{h.value.validate(u=>{u&&(l.formSave?K("douson/admin/param",l.formData).then(()=>{l.formVisible=!1,ElementPlus.ElMessage.success("Add success"),s()}):A("douson/admin/param",l.formData).then(()=>{l.formVisible=!1,ElementPlus.ElMessage.success("Update success"),s()}))})},F=u=>{ElementPlus.ElMessageBox.confirm("Confirm Delete?","Tips",{type:"warning"}).then(()=>{U("douson/admin/param",u).then(()=>{ElementPlus.ElMessage.success("Delete success"),s()})})},{query:g,tableData:E,formData:o,formSave:y,formVisible:c,formRuleList:L}={...Vue.toRefs(l)};return(u,t)=>{const i=Vue.resolveComponent("el-option"),n=Vue.resolveComponent("el-option-group"),d=Vue.resolveComponent("el-select"),b=Vue.resolveComponent("el-button"),p=Vue.resolveComponent("el-table-column"),k=Vue.resolveComponent("el-link"),D=Vue.resolveComponent("el-space"),P=Vue.resolveComponent("el-table"),f=Vue.resolveComponent("el-form-item"),v=Vue.resolveComponent("el-input"),T=Vue.resolveComponent("el-form"),O=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",G,[Vue.createVNode(d,{modelValue:Vue.unref(g).data.paramCategoryId,"onUpdate:modelValue":t[0]||(t[0]=a=>Vue.unref(g).data.paramCategoryId=a),filterable:"","allow-create":"",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u53C2\u6570\u7C7B\u578B",onChange:x},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(V,(a,m)=>Vue.createVNode(n,{key:`group-${m}`,label:Vue.unref(e).state.label[a.labelKey]},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(a.paramCategoryIdOptionList,r=>(Vue.openBlock(),Vue.createBlock(i,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"]),Vue.createElementVNode("div",Q,[Vue.createVNode(b,{icon:Vue.unref(S),onClick:s,type:"primary"},{default:Vue.withCtx(()=>[j]),_:1},8,["icon"]),Vue.unref(_)(Vue.unref(C),"admin")?(Vue.openBlock(),Vue.createBlock(b,{key:0,icon:Vue.unref(q),onClick:w,type:"success"},{default:Vue.withCtx(()=>[J]),_:1},8,["icon"])):Vue.createCommentVNode("v-if",!0)])]),Vue.createVNode(P,{"header-cell-style":{background:" rgba(250, 251, 252, 1)",color:"rgba(102, 102, 102, 1)",height:"54px",fontSize:"14px",padding:0,border:"none",boxShadow:"inset 0px -1px 0px  rgba(238, 238, 238, 1),inset 0px 1px 0px  rgba(238, 238, 238, 1)"},data:Vue.unref(E)},{default:Vue.withCtx(()=>[Vue.createVNode(p,{prop:"paramCategoryId",label:"\u53C2\u6570\u5206\u7C7B",width:"256",align:"left"},{default:Vue.withCtx(a=>[Vue.createTextVNode(Vue.toDisplayString(N(a.row.paramCategoryId))+"\uFF08"+Vue.toDisplayString(a.row.paramCategoryId)+"\uFF09 ",1)]),_:1}),Vue.createVNode(p,{prop:"paramCode",label:"\u53C2\u6570\u7F16\u7801",width:"192",align:"left"}),Vue.createVNode(p,{prop:"paramName",label:"\u53C2\u6570\u540D\u79F0",width:"256",align:"left"}),Vue.createVNode(p,{prop:"sorter",label:"\u6392\u5E8F",width:"64",align:"left"}),Vue.createVNode(p,{prop:"operator",label:"\u64CD\u4F5C",width:"256"},{default:Vue.withCtx(a=>[Vue.createVNode(D,null,{default:Vue.withCtx(()=>[Vue.unref(_)(Vue.unref(C),"admin")?(Vue.openBlock(),Vue.createBlock(k,{key:0,icon:Vue.unref(R),onClick:m=>B(a.row,a.$index),class:"mr10",type:"warning"},{default:Vue.withCtx(()=>[H]),_:2},1032,["icon","onClick"])):Vue.createCommentVNode("v-if",!0),Vue.unref(_)(Vue.unref(C),"admin")?(Vue.openBlock(),Vue.createBlock(k,{key:1,onClick:m=>F(a.row),type:"danger"},{default:Vue.withCtx(()=>[X]),_:2},1032,["onClick"])):Vue.createCommentVNode("v-if",!0)]),_:2},1024)]),_:1})]),_:1},8,["header-cell-style","data"]),Vue.createVNode(O,{title:Vue.unref(y)?"Add":"Edit",modelValue:Vue.unref(c),"onUpdate:modelValue":t[7]||(t[7]=a=>Vue.isRef(c)?c.value=a:null),width:"60%","close-on-click-modal":!1},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Y,[Vue.createVNode(b,{onClick:t[6]||(t[6]=a=>c.value=!1)},{default:Vue.withCtx(()=>[Z]),_:1}),Vue.createVNode(b,{type:"primary",onClick:I},{default:Vue.withCtx(()=>[ee]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(T,{rules:Vue.unref(L),model:Vue.unref(o),ref_key:"formRef",ref:h,"label-width":"128px"},{default:Vue.withCtx(()=>[Vue.createVNode(f,{prop:"paramCategoryId",label:"\u53C2\u6570\u5206\u7C7B",ref:"formAutoFocusRef"},{default:Vue.withCtx(()=>[Vue.createVNode(d,{modelValue:Vue.unref(o).paramCategoryId,"onUpdate:modelValue":t[1]||(t[1]=a=>Vue.unref(o).paramCategoryId=a),disabled:!Vue.unref(y),clearable:"",placeholder:"\u53C2\u6570\u7C7B\u578B",onChange:t[2]||(t[2]=a=>Vue.unref(g).data.paramCategoryId=Vue.unref(o).paramCategoryId)},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(V,(a,m)=>Vue.createVNode(n,{key:`group-${m}`,label:Vue.unref(e).state.label[a.labelKey]},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(a.paramCategoryIdOptionList,r=>(Vue.openBlock(),Vue.createBlock(i,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue","disabled"])]),_:1},512),Vue.createVNode(f,{prop:"paramCode",label:"\u53C2\u6570\u7F16\u7801"},{default:Vue.withCtx(()=>[Vue.createVNode(v,{modelValue:Vue.unref(o).paramCode,"onUpdate:modelValue":t[3]||(t[3]=a=>Vue.unref(o).paramCode=a),disabled:!Vue.unref(y)},null,8,["modelValue","disabled"])]),_:1}),Vue.createVNode(f,{prop:"paramName",label:"\u53C2\u6570\u540D\u79F0"},{default:Vue.withCtx(()=>[Vue.createVNode(v,{modelValue:Vue.unref(o).paramName,"onUpdate:modelValue":t[4]||(t[4]=a=>Vue.unref(o).paramName=a)},null,8,["modelValue"])]),_:1}),Vue.createVNode(f,{prop:"sorter",label:"\u6392\u5E8F"},{default:Vue.withCtx(()=>[Vue.createVNode(v,{modelValue:Vue.unref(o).sorter,"onUpdate:modelValue":t[5]||(t[5]=a=>Vue.unref(o).sorter=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"])])}}}),re=$(ae,[["__file","D:/code/mp-server/src/page/src/page/industry/admin/product/Param.vue"]]);export{re as default};
