import{h as y,x as h,_ as b}from"./main.e162c083.js";import{V as e,a as v}from"./ViewContent.29936a75.js";import{h as V}from"./IndustryUtil.35abe8a4.js";import{k as _}from"./index.c3e79e11.js";const g={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"flex-start","margin-bottom":"20px",position:"absolute",width:"100%",top:"20px"},id:"printContainer"},x={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",width:"595px"}},w={style:{"text-align":"center"}},f=Vue.createTextVNode(" Accident Report "),K=Vue.createTextVNode("` ");var L=Vue.defineComponent({__name:"Accident",setup(C){VueRouter.useRouter();const n=VueRouter.useRoute(),r=Vuex.useStore();r.state.roleCodeList;const s="accidentId",d=Vue.ref([{value:"reportDate",labelKey:"date",width:100},{value:"username",labelKey:"username",width:116},{value:"accidentTypeFormat",labelKey:"accidentType",width:88},{value:"dutyPersonFormat",labelKey:"dutyPerson",width:76},{value:"groupLeaderFormat",labelKey:"groupLeader",width:76},{value:"chargePersonFormat",labelKey:"chargePerson",width:76},{value:"managerFormat",labelKey:"manager",width:76},{value:"devicePhotoList",labelKey:"devicePhoto",width:128,type:e.Image},{value:"deviceDescribe",labelKey:"deviceDescribe",width:112},{value:"designNumberPhotoList",labelKey:"designNumberPhoto",width:128,type:e.Image},{value:"designNumberDescribe",labelKey:"designNumberDescribe",width:126},{value:"productWeight",labelKey:"productWeight",width:64},{value:"accidentDescribe",labelKey:"accidentDescribe",width:276,type:e.Text},{value:"photoList",labelKey:"photo",width:192,type:e.Image},{value:"videoList",labelKey:"video",width:192,type:e.Video},{value:"damagePhotoList",labelKey:"damagePhotoList",width:128,type:e.Image},{value:"damageDescribe",labelKey:"damageDescribe",width:200,type:e.Text},{value:"propertyLossDescribe",labelKey:"propertyLossDescribe",width:200,type:e.Text},{value:"propertyLossPhotoList",labelKey:"propertyLossPhotoList",width:192,type:e.Image},{value:"humanFactorReason",labelKey:"humanFactorReason",width:276,type:e.Text},{value:"humanFactorSolve",labelKey:"humanFactorSolve",width:276,type:e.Text},{value:"improveEvidencePhotoList",labelKey:"improveEvidencePhotoList",width:128,type:e.Image},{value:"improveEvidenceDescribe",labelKey:"improveEvidenceDescribe",width:210,type:e.FixedText},{value:"valid",labelKey:"valid",width:100,type:e.Valid}]),c=Vue.ref({});y("douson/accident",{accidentId:n.query.accidentId}).then(o=>{c.value=o.data||{},ElementPlus.ElMessage.success("Query success"),setTimeout(()=>{var l;const t=(((l=document.getElementById("printDescription"))==null?void 0:l.offsetHeight)||1024)+450+"px",i=document.getElementById("printContainer");i&&(i.style.height=t)},1e3)});const u=()=>{const o=h(`/industry/public/accident?accidentId=${n.query.accidentId}`),t=document.createElement("input");t.value=o,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),ElementPlus.ElMessage.success("Copy success")};return(o,t)=>{const i=Vue.resolveComponent("el-icon"),l=Vue.resolveComponent("el-descriptions-item"),p=Vue.resolveComponent("el-descriptions");return Vue.openBlock(),Vue.createElementBlock("div",g,[Vue.createElementVNode("div",x,[Vue.createElementVNode("h1",w,[Vue.createElementVNode("span",{style:{"font-size":"36px"},onClick:u},[f,Vue.createVNode(i,{style:{"vertical-align":"middle"}},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(_))]),_:1})])]),Vue.createVNode(p,{column:1,style:{width:"100%"},border:"",id:"printDescription"},{default:Vue.withCtx(()=>[K,(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(V)(d.value,[],!0,!1,[],[]),(a,P)=>(Vue.openBlock(),Vue.createBlock(l,{key:a.value,label:a.labelKey?Vue.unref(r).state.label[a.labelKey]:a.label,align:"center","label-class-name":"accident-print-label description-print-border","class-name":"description-print-border"},{default:Vue.withCtx(()=>[Vue.createVNode(v,{idKey:s,viewConfig:a,row:c.value},{expand:Vue.withCtx(m=>[Vue.renderSlot(o.$slots,"expand",{param:m.param})]),_:2},1032,["viewConfig","row"])]),_:2},1032,["label"]))),128))]),_:3})])])}}});var F=b(L,[["__file","D:/code/mp-server/src/page/src/page/industry/admin/public/Accident.vue"]]);export{F as default};
