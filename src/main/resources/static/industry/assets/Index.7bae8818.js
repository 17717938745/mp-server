import{s as L,e as P}from"./index.c31b34eb.js";import{f as g,h as U,d as q,e as T,i as S,_ as z}from"./main.afca9582.js";import{D as Y,a as j,P as G}from"./Common.847db1bd.js";const $={class:"query-container"},H={class:"query-btn"},J=Vue.createTextVNode("\u641C\u7D22"),K=Vue.createTextVNode("\u5BFC\u51FA "),O=Vue.createTextVNode(" \u7F16\u8F91 "),Z={class:"dialog-footer"},Q=Vue.createTextVNode("\u53D6\u6D88"),W=Vue.createTextVNode("\u786E\u5B9A");var X=Vue.defineComponent({__name:"Index",setup(ee){const f=Vue.ref(null),u=Vue.reactive({dateTimeList:[],expandRowKeys:[],query:{data:{startReportDate:"",endReportDate:""},page:{page:Y,limit:j}},tableData:new Array,total:0,formData:{productId:"",openId:"",reportDate:"",debugMinute:0,clampingMinute:0,assistMinute:0,runningMinute:0},formSave:!1,formVisible:!1,formRuleList:{debugMinute:[{required:!0,message:"\u8BF7\u8F93\u5165",trigger:"blur"}]},relateFormVisible:!1,relateFormRuleList:{},checkAll:!1,isIndeterminate:!0}),r=()=>{u.dateTimeList&&u.dateTimeList.length>1?(u.query.data.startReportDate=g(u.dateTimeList[0],"yyyy-MM-dd hh:mm:ss"),u.query.data.endReportDate=g(u.dateTimeList[1],"yyyy-MM-dd hh:mm:ss")):(u.query.data.startReportDate="",u.query.data.endReportDate=""),U("douson/admin/product/page",u.query).then(l=>{u.tableData=l.list,u.total=l.total,ElementPlus.ElMessage.success("\u67E5\u8BE2\u6210\u529F")})},_=l=>{u.query.page.page=l,r()},h=l=>{u.query.page.limit=l,r()};r();const F=l=>{u.formVisible=!0,u.formData=Object.assign({},l)},C=()=>{f.value.validate(l=>{l&&(u.formSave?q("douson/admin/product",u.formData).then(()=>{u.formVisible=!1,ElementPlus.ElMessage.success("\u65B0\u589E\u6210\u529F"),r()}):T("douson/admin/product",u.formData).then(()=>{u.formVisible=!1,ElementPlus.ElMessage.success("\u4FEE\u6539\u6210\u529F"),r()}))})},b=()=>{S("douson/admin/product/export",u.query.data)},{query:p,tableData:E,total:x,dateTimeList:m,expandRowKeys:N,formData:a,formSave:w,formVisible:i,formRuleList:y,relateFormVisible:ue,relateFormRuleList:te,checkAll:oe,isIndeterminate:ae}={...Vue.toRefs(u)};return(l,t)=>{const D=Vue.resolveComponent("el-date-picker"),s=Vue.resolveComponent("el-button"),v=Vue.resolveComponent("el-image"),o=Vue.resolveComponent("el-table-column"),M=Vue.resolveComponent("el-link"),B=Vue.resolveComponent("el-space"),k=Vue.resolveComponent("el-table"),A=Vue.resolveComponent("el-pagination"),c=Vue.resolveComponent("el-input"),n=Vue.resolveComponent("el-form-item"),V=Vue.resolveComponent("el-input-number"),I=Vue.resolveComponent("el-form"),R=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",$,[Vue.createVNode(D,{modelValue:Vue.unref(m),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(m)?m.value=e:null),type:"daterange",format:"YYYY-MM-DD","range-separator":"\u5230","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue"]),Vue.createCommentVNode('<el-input v-model="query.data.name" placeholder="\u59D3\u540D"/>'),Vue.createElementVNode("div",H,[Vue.createVNode(s,{icon:Vue.unref(L),onClick:r,type:"primary"},{default:Vue.withCtx(()=>[J]),_:1},8,["icon"]),Vue.createVNode(s,{class:"login-btn",type:"warning",onClick:b},{default:Vue.withCtx(()=>[K]),_:1}),Vue.createCommentVNode('<el-button :icon="Plus" @click="handleSaveModal" type="success">\u65B0\u589E</el-button>')])]),Vue.createVNode(k,{"header-cell-style":{background:" rgba(250, 251, 252, 1)",color:"rgba(102, 102, 102, 1)",height:"54px",fontSize:"14px",padding:0,border:"none",boxShadow:"inset 0px -1px 0px  rgba(238, 238, 238, 1),inset 0px 1px 0px  rgba(238, 238, 238, 1)"},data:Vue.unref(E),"row-key":"productId","expand-row-keys":Vue.unref(N)},{default:Vue.withCtx(()=>[Vue.createVNode(o,{type:"expand",width:"50"},{default:Vue.withCtx(e=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.row.photoList,d=>(Vue.openBlock(),Vue.createElementBlock("div",{key:d.photoUrl,class:"img-container"},[(Vue.openBlock(),Vue.createBlock(v,{class:"img",key:d.photoUrl,src:d.fullPhotoUrl,"preview-src-list":[d.fullPhotoCompressUrl],fit:"cover",lazy:""},null,8,["src","preview-src-list"]))]))),128))]),_:1}),Vue.createVNode(o,{prop:"openIdFormat",label:"\u7528\u6237",width:"128",align:"left"}),Vue.createVNode(o,{prop:"reportDate",label:"\u65E5\u671F Ng\xE0y th\xE1ng",width:"128",align:"left"}),Vue.createVNode(o,{prop:"orderNo",label:"\u8BA2\u5355 \u0111\u01A1n \u0111\u1EB7t h\xE0ng",width:"128",align:"left"}),Vue.createVNode(o,{prop:"projectSequence",label:"\u9879\u6B21 s\u1ED1 m\u1EE5c h\xE0ng",width:"128",align:"left"}),Vue.createVNode(o,{prop:"designNumber",label:"\u56FE\u53F7 M\xE3 v\u1EADt li\u1EC7u",width:"128",align:"left"}),Vue.createVNode(o,{prop:"testDevice",label:"\u8C03\u8BD5\u8BBE\u5907 \u0110i\u1EC3u ch\u1EC9nh m\xE1y s\u1ED1",width:"128",align:"left"}),Vue.createVNode(o,{prop:"processProcedure",label:"\u52A0\u5DE5\u5DE5\u5E8F C\xF4ng \u0111o\u1EA1n gia c\xF4ng",width:"128",align:"left"}),Vue.createVNode(o,{prop:"debugMinute",label:"\u8C03\u8BD5\u65F6\u95F4/\u5206\u949F",width:"128",align:"right"}),Vue.createVNode(o,{prop:"clampingMinute",label:"\u88C5\u5939\u65F6\u95F4/\u5206\u949F",width:"128",align:"right"}),Vue.createVNode(o,{prop:"assistMinute",label:"\u8F85\u52A9\u65F6\u95F4/\u5206\u949F",width:"128",align:"right"}),Vue.createVNode(o,{prop:"runningMinute",label:"\u7A0B\u5F0F\u8FD0\u884C\u65F6\u95F4/\u5206\u949F",width:"160",align:"right"}),Vue.createVNode(o,{prop:"countHour8",label:"8\u5C0F\u65F6\u52A0\u5DE5\u4EF6\u6570",width:"160",align:"right"}),Vue.createVNode(o,{prop:"countHour12",label:"12\u5C0F\u65F6\u52A0\u5DE5\u4EF6\u6570",width:"160",align:"right"}),Vue.createVNode(o,{prop:"authorSignature",label:"\u8C03\u8BD5\u4EBA\u5458\u786E\u8BA4\u7B7E\u5B57",width:"192",align:"left"}),Vue.createVNode(o,{prop:"remark",label:"\u5907\u6CE8",width:"128",align:"left"}),Vue.createVNode(o,{prop:"url",label:"\u64CD\u4F5C",width:"128"},{default:Vue.withCtx(e=>[Vue.createVNode(B,null,{default:Vue.withCtx(()=>[Vue.createVNode(M,{icon:Vue.unref(P),onClick:d=>F(e.row,e.$index),class:"mr10",type:"warning"},{default:Vue.withCtx(()=>[O]),_:2},1032,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["header-cell-style","data","expand-row-keys"]),Vue.createVNode(A,{background:"",currentPage:Vue.unref(p).page.page,"onUpdate:currentPage":t[1]||(t[1]=e=>Vue.unref(p).page.page=e),"page-sizes":Vue.unref(G),"page-size":Vue.unref(p).page.limit,total:Vue.unref(x),onCurrentChange:_,onSizeChange:h,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-sizes","page-size","total"]),Vue.createVNode(R,{title:Vue.unref(w)?"\u65B0\u589E":"\u7F16\u8F91",modelValue:Vue.unref(i),"onUpdate:modelValue":t[10]||(t[10]=e=>Vue.isRef(i)?i.value=e:null),width:"60%"},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Z,[Vue.createVNode(s,{onClick:t[9]||(t[9]=e=>i.value=!1)},{default:Vue.withCtx(()=>[Q]),_:1}),Vue.createVNode(s,{type:"primary",onClick:C},{default:Vue.withCtx(()=>[W]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(I,{rules:Vue.unref(y),model:Vue.unref(a),ref_key:"formRef",ref:f,"label-width":"160px"},{default:Vue.withCtx(()=>[Vue.createVNode(n,{prop:"productId",label:"Id"},{default:Vue.withCtx(()=>[Vue.createVNode(c,{modelValue:Vue.unref(a).productId,"onUpdate:modelValue":t[2]||(t[2]=e=>Vue.unref(a).productId=e),disabled:!0},null,8,["modelValue"])]),_:1}),Vue.createVNode(n,{prop:"openId",label:"Open Id"},{default:Vue.withCtx(()=>[Vue.createVNode(c,{modelValue:Vue.unref(a).openId,"onUpdate:modelValue":t[3]||(t[3]=e=>Vue.unref(a).openId=e),disabled:!0},null,8,["modelValue"])]),_:1}),Vue.createVNode(n,{prop:"reportDate",label:"\u62A5\u544A\u65E5\u671F"},{default:Vue.withCtx(()=>[Vue.createVNode(c,{modelValue:Vue.unref(a).reportDate,"onUpdate:modelValue":t[4]||(t[4]=e=>Vue.unref(a).reportDate=e),disabled:!0},null,8,["modelValue"])]),_:1}),Vue.createVNode(n,{prop:"debugMinute",label:"\u8C03\u8BD5\u65F6\u95F4/\u5206\u949F",ref:"formAutoFocusRef"},{default:Vue.withCtx(()=>[Vue.createVNode(V,{min:1,modelValue:Vue.unref(a).debugMinute,"onUpdate:modelValue":t[5]||(t[5]=e=>Vue.unref(a).debugMinute=e)},null,8,["modelValue"])]),_:1},512),Vue.createVNode(n,{prop:"clampingMinute",label:"\u88C5\u5939\u65F6\u95F4/\u5206\u949F"},{default:Vue.withCtx(()=>[Vue.createVNode(V,{min:0,modelValue:Vue.unref(a).clampingMinute,"onUpdate:modelValue":t[6]||(t[6]=e=>Vue.unref(a).clampingMinute=e)},null,8,["modelValue"])]),_:1}),Vue.createVNode(n,{prop:"assistMinute",label:"\u8F85\u52A9\u65F6\u95F4/\u5206\u949F"},{default:Vue.withCtx(()=>[Vue.createVNode(V,{min:0,modelValue:Vue.unref(a).assistMinute,"onUpdate:modelValue":t[7]||(t[7]=e=>Vue.unref(a).assistMinute=e)},null,8,["modelValue"])]),_:1}),Vue.createVNode(n,{prop:"runningMinute",label:"\u7A0B\u5F0F\u8FD0\u884C\u65F6\u95F4/\u5206\u949F"},{default:Vue.withCtx(()=>[Vue.createVNode(V,{min:0,modelValue:Vue.unref(a).runningMinute,"onUpdate:modelValue":t[8]||(t[8]=e=>Vue.unref(a).runningMinute=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"])])}}});var de=z(X,[["__scopeId","data-v-aadca4d0"],["__file","/Users/panchaohui/code/lead/dmmp_page/src/page/industry/admin/product/Index.vue"]]);export{de as default};
