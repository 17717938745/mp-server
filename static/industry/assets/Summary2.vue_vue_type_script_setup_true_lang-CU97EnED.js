import{s as C}from"./index-DfY7MOwJ.js";import{o as i,x as u,h as f}from"./main-Dirrnzcr.js";import{D as b,a as _}from"./Common-dWa9BEsb.js";import{_ as v}from"./ViewList.vue_vue_type_style_index_0_lang-qcv9jr1D.js";const D={class:"query-container"},g={class:"query-btn"},w=Vue.createTextVNode("Search"),x=Vue.defineComponent({__name:"Summary2",setup(K){VueRouter.useRouter();const l=Vuex.useStore();l.state.user,l.state.roleCodeList,Vue.ref(null),Vue.ref(new Array);const p=Vue.ref([{value:"index",labelKey:"index",width:51},{value:"oilInjectionCompleteDateFormat",labelKey:"oilInjectionCompleteDate",width:92},{value:"saleOrderNo",labelKey:"saleOrderNo",width:78},{value:"orderProject",labelKey:"orderProject",width:56},{value:"materialNo",labelKey:"materialNo",width:109},{value:"orderCount",labelKey:"orderCount",width:67},{value:"materialDescription",labelKey:"materialDescription",width:258},{value:"designNumber",labelKey:"designNumber",width:102},{value:"deliveryDateFormat",labelKey:"deliveryDate",width:109},{value:"assemblyCompleteCount",labelKey:"assemblyCompleteCount",width:69},{value:"oilInjectionCompleteCount",labelKey:"oilInjectionCompleteCount",width:87}]),d=Vue.reactive({dateTimeList:[u(),u()],userConfigList:new Array,query:{data:{department:"",assemblyType:"",user:"",date:"",startOilInjectionCompleteDate:i(u(),"yyyy-MM-dd"),endOilInjectionCompleteDate:i(u(),"yyyy-MM-dd")},page:{page:_,limit:b}},tableData:new Array,config:{assemblyTypeList:[],departmentList:[]}}),y=(t,e,a,r="yyyy-MM-dd hh:mm:ss")=>{a=a||"createDate";const s=a.charAt(0).toUpperCase()+a.slice(1),o=`start${s}`,c=`end${s}`;t&&t.length>1?(e[o]=i(t[0],r),e[c]=i(t[1],r)):(e[o]="",e[c]=""),m()},m=()=>{f("douson/assembly/summary-list2",d.query.data).then(t=>{d.tableData=t.list,ElementPlus.ElMessage.success("Query success")})};m();const{query:V,tableData:h,dateTimeList:n}={...Vue.toRefs(d)};return(t,e)=>{const a=Vue.resolveComponent("el-date-picker"),r=Vue.resolveComponent("el-button"),s=Vue.resolveComponent("el-alert");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",D,[Vue.createVNode(a,{modelValue:Vue.unref(n),"onUpdate:modelValue":e[0]||(e[0]=o=>Vue.isRef(n)?n.value=o:null),onChange:e[1]||(e[1]=()=>{y(Vue.unref(n),Vue.unref(V).data,"oilInjectionCompleteDate")}),type:"daterange",format:"YYYY-MM-DD","range-separator":"-","start-placeholder":`Start ${Vue.unref(l).state.label.oilInjectionCompleteDate}`,"end-placeholder":`End ${Vue.unref(l).state.label.oilInjectionCompleteDate}`,style:{width:"180px","margin-right":"20px"}},null,8,["modelValue","start-placeholder","end-placeholder"]),Vue.createElementVNode("div",g,[Vue.createVNode(r,{icon:Vue.unref(C),onClick:m,type:"primary"},{default:Vue.withCtx(()=>[w]),_:1},8,["icon"])])]),Vue.createVNode(s,{title:`${Vue.unref(l).state.label.assemblySummaryTips}`,type:"info",closable:!0},null,8,["title"]),Vue.createVNode(v,{idKey:"assemblyId",columnConfigList:p.value,list:Vue.unref(h)},{operator:Vue.withCtx(o=>[]),_:1},8,["columnConfigList","list"])])}}});export{x as _};
