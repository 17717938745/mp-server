import{s as i}from"./index-DfY7MOwJ.js";import{h as c}from"./main-Dirrnzcr.js";import{D as d,a as m}from"./Common-dWa9BEsb.js";import{_ as f}from"./ViewList.vue_vue_type_style_index_0_lang-qcv9jr1D.js";const p={class:"query-container"},_={class:"query-btn"},V=Vue.createTextVNode("Search"),x=Vue.defineComponent({__name:"Profession",setup(h){VueRouter.useRouter();const o=Vuex.useStore();o.state.user,o.state.roleCodeList,Vue.ref(null);const s=Vue.ref([{value:"index",labelKey:"index",width:51},{value:"departmentFormat",labelKey:"department",width:168},{value:"professionFormat",labelKey:"profession",width:168},{value:"workShop",labelKey:"workShop",width:123},{value:"office",labelKey:"office",width:128},{value:"total",labelKey:"total",width:110}]),n=({row:e,rowIndex:l})=>e.professionFormat&&(e.professionFormat.indexOf("经理")>=0||e.professionFormat.indexOf("主管")>=0)?"data-manager":"",t=Vue.reactive({query:{data:{},page:{page:m,limit:d}},tableData:new Array}),a=()=>{c("system/user/profession-summary",t.query.data).then(e=>{t.tableData=e.list,ElementPlus.ElMessage.success("Query success")})};a();const{tableData:r}={...Vue.toRefs(t)};return(e,l)=>{const u=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",p,[Vue.createElementVNode("div",_,[Vue.createVNode(u,{icon:Vue.unref(i),onClick:a,type:"primary"},{default:Vue.withCtx(()=>[V]),_:1},8,["icon"])])]),Vue.createVNode(f,{idKey:"peofessionId",columnConfigList:s.value,list:Vue.unref(r),handleTableRowClassName:n},null,8,["columnConfigList","list"])])}}});export{x as _};
