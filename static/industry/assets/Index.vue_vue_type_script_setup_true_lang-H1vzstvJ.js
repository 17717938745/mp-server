import{w as oe,s as ne,x as de,y as ie,z as se}from"./index-DfY7MOwJ.js";import{o as v,h as D,i as x,p as A,q as Ve,b as pe,a as ce}from"./main-Dirrnzcr.js";import{D as me,a as fe}from"./Common-dWa9BEsb.js";import{V as m}from"./ViewContent.vue_vue_type_script_setup_true_lang-Dpo1Y2zC.js";import{_ as be}from"./ViewList.vue_vue_type_style_index_0_lang-qcv9jr1D.js";import{_ as ge}from"./ImageUpload.vue_vue_type_script_setup_true_lang-BZyBfOer.js";const ve={class:"query-container"},ye={class:"query-btn"},ke=Vue.createTextVNode("Start"),Ce=Vue.createTextVNode("Search"),he={style:{"font-size":"26px","font-weight":"bold"}},we={style:{"font-weight":"bold"}},Ne=Vue.createTextVNode(" Add "),Me=Vue.createTextVNode(" : "),De=Vue.createTextVNode(" : "),xe=Vue.createTextVNode(" Done "),Le={class:"dialog-footer"},Be=Vue.createTextVNode("Cancel"),Se=Vue.createTextVNode("Confirm"),Ue={class:"dialog-footer"},Ee=Vue.createTextVNode("Cancel"),Te=Vue.createTextVNode("Confirm"),Pe=Vue.defineComponent({__name:"Index",setup(_e){VueRouter.useRouter();const L=VueRouter.useRoute(),a=Vuex.useStore(),N=a.state.roleCodeList,W=a.state.user,K=Vue.ref(null),B=Vue.ref(!1),S=Vue.ref(!1),c=Vue.ref(!1),R=new Date(new Date().getTime()-3600*1e3*24*3),q=new Date,u=Vue.reactive({dateTimeList:[R,q],photoVisible:!1,photoList:new Array,query:{data:{startReportDate:v(R,"yyyy-MM-dd"),endReportDate:v(q,"yyyy-MM-dd"),reportId:"",userId:"",username:"",orderNo:"",projectSequence:"",designNumber:"",productId:"",testDevice:"",processType:"",processProcedure:"",valid:null,surplusCountType:null,leaderSubsidyMinuteType:null},page:{page:fe,limit:me}},summaryData:{},tableData:new Array,config:{processProcedureList:[],testDeviceList:[],processTypeList:[],scheduleList:[],workMinuteList:[],stopWorkingContent1List:[],stopWorkingContent2List:[],stopWorkingContent3List:[]},formData:{reportId:"",reportDate:v(new Date,"yyyy-MM-dd"),userId:W.userId,username:W.username,orderCount:0,processType:null,schedule:null,workMinute:null,shouldCompleteCount:null,actualCompleteCount:0,serialNoList:new Array,completeMinute:0,leaderSubsidyMinute:0,deviceRunningStartHour:0,deviceRunningStartMinute:0,deviceRunningEndHour:0,productStandMinute:0,deviceRunningEndMinute:0,clampingMinute:0,assistMinute:0,runningMinute:0,remark:"",orderNo:"",testDevice:"",projectSequence:"",designNumber:"",photoList:new Array,stopWorkingContent1:"",stopWorkingMinute1:0,stopWorkingContent2:"",stopWorkingMinute2:0,stopWorkingContent3:"",stopWorkingMinute3:0,improveSuggestion:"",valid:!1},formSave:!1,formVisible:!1,activeReport:null,formRuleList:{reportDate:[{required:!0,message:"请输入日期",trigger:"blur"}],userId:[{required:!0,message:"必输",trigger:"blur"}],testDevice:[{required:!0,message:"必输",trigger:"blur"}],orderNo:[{required:!0,message:"必输",trigger:"blur"}],processType:[{required:!0,message:"必输",trigger:"blur"}],projectSequence:[{required:!0,message:"必输",trigger:"blur"}],designNumber:[{required:!0,message:"必输",trigger:"blur"}],processProcedure:[{required:!0,message:"必输",trigger:"blur"}],clampingMinute:[{required:!0,message:"必输",trigger:"blur"}],assistMinute:[{required:!0,message:"必输",trigger:"blur"}],runningMinute:[{required:!0,message:"必输",trigger:"blur"}],productStandMinute:[{required:!0,message:"必输",trigger:"blur"}],schedule:[{required:!0,message:"必输",trigger:"blur"}],workMinute:[{required:!0,message:"必输",trigger:"blur"}],serialNoList:[{required:!0,type:"array",message:"必输",min:1}],photoList:[{required:!0,type:"array",message:"必输",min:1,max:4}]}}),O=(o,t,p)=>{if(t===0){let d;try{d=Number(o)}catch{d=1}for(let n=1;n<p.length;n++)p[n]=d+n}},F=()=>{L.query.productId&&D("douson/report",{productId:L.query.productId,reportDate:v(new Date,"yyyy-MM-dd")}).then(o=>{u.formData=Object.assign({},u.formData,o.data||{}),u.formVisible=!0,u.formSave=!o.data.reportId})},I=Vue.ref(new Array);Promise.all([D("douson/config",{categoryIdList:["processProcedure","testDevice","processType","schedule","workMinute","stopWorkingContent1","stopWorkingContent2","stopWorkingContent3"]}),D("system/user/config/list",{})]).then(o=>{u.config=o[0].data,I.value=(o[1].list||[]).map(t=>({value:t.userId,label:t.name})),F()});const U=()=>{console.log("handleToggleDetail");const o=["clampingMinute","assistMinute","runningMinute","scheduleFormat","serialNoList"];C.value=C.value.map(t=>(o.indexOf(t.value)>=0&&(t.hide=!B.value),t))},P=()=>{console.log("handleToggleRemark");const o=["stopWorkingContent1Format","stopWorkingMinute1","stopWorkingContent2Format","stopWorkingMinute2","stopWorkingContent3Format","stopWorkingMinute3"];C.value=C.value.map(t=>(o.indexOf(t.value)>=0&&(t.hide=!S.value),t))},C=Vue.ref([{value:"expand",label:"",width:48,type:m.Expand},{value:"operator",labelKey:"viewAndEdit",align:"center",width:239,type:m.Operator},{mergeKey:["reportDate","userId"],value:"reportDate",labelKey:"date",showOverflow:!0,width:100},{mergeKey:["reportDate","userId"],value:"userFormat",labelKey:"user",width:100,align:"center"},{mergeKey:["reportDate","userId","testDevice"],value:"testDeviceFormat",labelKey:"deviceNumber",width:134,showOverflow:!0,align:"center"},{value:"orderNo",labelKey:"orderNo",showOverflow:!0,width:96,align:"center",type:m.OrderLink},{value:"projectSequence",labelKey:"projectSequence",showOverflow:!0,width:80,align:"center"},{value:"designNumber",labelKey:"designNumber",width:160,showOverflow:!0},{value:"orderCount",labelKey:"orderCount",width:64,align:"center",type:m.NumberPositive},{value:"processTypeFormat",labelKey:"processType",width:96,align:"center"},{value:"processProcedureFormat",labelKey:"processProcedure",showOverflow:!0},{value:"clampingMinute",labelKey:"clampingMinute",width:64,align:"center"},{value:"assistMinute",labelKey:"assistMinute",width:64,align:"center"},{value:"runningMinute",labelKey:"runningMinute",width:64,align:"center"},{value:"productStandMinute",labelKey:"productStandMinute",width:64,align:"center"},{value:"scheduleFormat",labelKey:"schedule"},{mergeKey:["reportDate","userId","testDevice"],value:"workMinute",labelKey:"workMinute",width:64,align:"center"},{value:"shouldCompleteCount",labelKey:"shouldCompleteCount",width:64,align:"center"},{value:"actualCompleteCount",labelKey:"actualCompleteCount",width:64,align:"center",type:m.HighLight},{value:"serialNoList",labelKey:"serialNo",width:152,align:"center",type:m.SerialNoList},{value:"completeMinute",labelKey:"completeMinute",width:64,align:"center",type:m.HighLight},{value:"leaderSubsidyMinute",labelKey:"leaderSubsidyMinute",width:64,align:"center"},{value:"remark",labelKey:"description",width:192,align:"center"},{value:"deviceCompletePercentFormat",labelKey:"deviceCompletePercent",width:82,align:"center"},{value:"surplusCount",labelKey:"surplusCount",width:64,align:"center",type:m.Number},{mergeKey:["reportDate","userId","testDevice"],value:"deviceUnitPriceFormat",labelKey:"deviceUnitPrice",width:82,align:"center"},{value:"salaryFormat",labelKey:"salary",width:96,align:"center"},{mergeKey:["reportDate","userId","testDevice"],value:"deviceRunningTime",labelKey:"deviceRunningTime",width:178,align:"center",type:m.DeviceRunningTime},{mergeKey:["reportDate","userId","testDevice"],value:"deviceUsePercentFormat",labelKey:"deviceUsePercent",width:82,align:"center"},{value:"stopWorkingContent1Format",labelKey:"stopWorkingContent1",label:"停机内容1 Nội dung dừng máy 1",width:192,align:"center"},{value:"stopWorkingMinute1",labelKey:"stopWorkingMinute1",width:64,align:"center"},{value:"stopWorkingContent2Format",labelKey:"stopWorkingContent2",width:192,align:"center"},{value:"stopWorkingMinute2",labelKey:"stopWorkingMinute2",width:64,align:"center"},{value:"stopWorkingContent3Format",labelKey:"stopWorkingContent3",width:192,align:"center"},{value:"stopWorkingMinute3",labelKey:"stopWorkingMinute3",width:64,align:"center"},{value:"improveSuggestion",labelKey:"improveSuggestion",width:192,align:"center"},{value:"valid",labelKey:"valid",align:"center",width:86,type:x(N,"admin")?m.ValidEdit:m.Valid},{value:"photoList",labelKey:"photo",align:"center",width:128,type:m.Image}]);U(),P();const V=()=>{u.dateTimeList&&u.dateTimeList.length>1?(u.query.data.startReportDate=v(u.dateTimeList[0],"yyyy-MM-dd hh:mm:ss"),u.query.data.endReportDate=v(u.dateTimeList[1],"yyyy-MM-dd hh:mm:ss")):(u.query.data.startReportDate="",u.query.data.endReportDate=""),D("douson/report/list",u.query.data).then(o=>{ElementPlus.ElMessage.success("Query success");const t=o.list;u.summaryData=o.data||{},u.tableData=t})};V();const Y=o=>{u.formVisible=!0,u.formSave=!1,u.formData=Object.assign({},o)},z=()=>{const o=Math.ceil(u.formData.actualCompleteCount)||0,t=o-u.formData.serialNoList.length;if(t>0)for(let p=0;p<t;p++)u.formData.serialNoList.push("");else if(t<0)for(let p=u.formData.serialNoList.length-1;p>=o;p--)u.formData.serialNoList.splice(p,1);u.formData.completeMinute=u.formData.actualCompleteCount*u.formData.productStandMinute},G=()=>{K.value.validate(o=>{const t=u.formData.deviceRunningStartHour*60+u.formData.deviceRunningStartMinute,p=u.formData.deviceRunningEndHour*60+u.formData.deviceRunningEndMinute;if(t>=p){ElementPlus.ElMessage.error("设备运行时间填写错误");return}const d=u.tableData.filter(g=>g.reportDate===u.formData.reportDate&&g.userId===u.formData.userId&&g.testDevice===u.formData.testDevice&&g.reportId!==u.formData.reportId).map(g=>g.currentDeviceUseMinute)||[],n=(d.length<=0?0:d.reduce((g,r)=>g+r)||0)+(p-t),i=n*100/Math.max(u.formData.workMinute||1,1);if(i<85&&!u.formData.improveSuggestion){ElementPlus.ElMessage.error(`当班设备利用率% Tỷ lệ % hiệu suất máy ca: ${i}%, device use: ${n}m`);return}const b=Math.ceil(u.formData.actualCompleteCount)||0,w=u.formData.serialNoList;if(b!=w.length){ElementPlus.ElMessage.error("完成产品序列号与实际完成数量不匹配");return}o&&(u.formSave?Ve("douson/report",u.formData).then(()=>{u.formVisible=!1,ElementPlus.ElMessage.success("Add success"),V()}):H(u.formData))})},H=o=>pe("douson/report",o).then(()=>{u.formVisible=!1,ElementPlus.ElMessage.success("Update success"),V()}),J=o=>{ElementPlus.ElMessageBox.confirm("Confirm Delete?","Tips",{type:"warning"}).then(()=>{ce("douson/report",{reportId:o.reportId}).then(()=>{ElementPlus.ElMessage.success("Delete success"),V()})})},Q=()=>{u.dateTimeList&&u.dateTimeList.length>1?(u.query.data.startReportDate=v(u.dateTimeList[0],"yyyy-MM-dd hh:mm:ss"),u.query.data.endReportDate=v(u.dateTimeList[1],"yyyy-MM-dd hh:mm:ss")):(u.query.data.startReportDate="",u.query.data.endReportDate=""),V()},{query:s,photoVisible:h,photoList:$,summaryData:X,tableData:Z,config:f,dateTimeList:E,formData:l,formSave:T,formVisible:M,formRuleList:ee}={...Vue.toRefs(u)};return(o,t)=>{const p=Vue.resolveComponent("el-date-picker"),d=Vue.resolveComponent("el-option"),n=Vue.resolveComponent("el-select"),i=Vue.resolveComponent("el-input"),b=Vue.resolveComponent("el-button"),w=Vue.resolveComponent("el-switch"),g=Vue.resolveComponent("el-space"),r=Vue.resolveComponent("el-form-item"),y=Vue.resolveComponent("el-input-number"),te=Vue.resolveComponent("el-icon"),le=Vue.resolveComponent("el-checkbox"),ue=Vue.resolveComponent("el-form"),j=Vue.resolveComponent("el-dialog"),ae=Vue.resolveComponent("el-image"),re=Vue.resolveComponent("el-empty");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",ve,[Vue.createVNode(p,{modelValue:Vue.unref(E),"onUpdate:modelValue":t[0]||(t[0]=e=>Vue.isRef(E)?E.value=e:null),onChange:Q,type:"daterange",format:"YYYY-MM-DD","range-separator":"-","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.userId,"onUpdate:modelValue":t[1]||(t[1]=e=>Vue.unref(s).data.userId=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.user},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(I.value,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(i,{modelValue:Vue.unref(s).data.orderNo,"onUpdate:modelValue":t[2]||(t[2]=e=>Vue.unref(s).data.orderNo=e),onKeyup:Vue.withKeys(V,["enter"]),placeholder:Vue.unref(a).state.label.orderNo,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(i,{modelValue:Vue.unref(s).data.projectSequence,"onUpdate:modelValue":t[3]||(t[3]=e=>Vue.unref(s).data.projectSequence=e),onKeyup:Vue.withKeys(V,["enter"]),placeholder:Vue.unref(a).state.label.projectSequence,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(i,{modelValue:Vue.unref(s).data.designNumber,"onUpdate:modelValue":t[4]||(t[4]=e=>Vue.unref(s).data.designNumber=e),onKeyup:Vue.withKeys(V,["enter"]),placeholder:Vue.unref(a).state.label.designNumber,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.testDevice,"onUpdate:modelValue":t[5]||(t[5]=e=>Vue.unref(s).data.testDevice=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.testDevice,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).testDeviceList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.processType,"onUpdate:modelValue":t[6]||(t[6]=e=>Vue.unref(s).data.processType=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.processType,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).processTypeList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.processProcedure,"onUpdate:modelValue":t[7]||(t[7]=e=>Vue.unref(s).data.processProcedure=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.processProcedure,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).processProcedureList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.valid,"onUpdate:modelValue":t[8]||(t[8]=e=>Vue.unref(s).data.valid=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.valid,class:"search-item"},{default:Vue.withCtx(()=>[Vue.createVNode(d,{label:"Done",value:!0}),Vue.createVNode(d,{label:"Pending",value:!1})]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.surplusCountType,"onUpdate:modelValue":t[9]||(t[9]=e=>Vue.unref(s).data.surplusCountType=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.surplusCount,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList([{value:0,label:"=0"},{value:1,label:">0"},{value:-1,label:"<0"}],e=>Vue.createVNode(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(n,{modelValue:Vue.unref(s).data.leaderSubsidyMinuteType,"onUpdate:modelValue":t[10]||(t[10]=e=>Vue.unref(s).data.leaderSubsidyMinuteType=e),onChange:V,filterable:"","allow-create":"",clearable:"",placeholder:Vue.unref(a).state.label.leaderSubsidyMinute,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList([{value:0,label:"=0"},{value:1,label:">0"},{value:-1,label:"<0"}],e=>Vue.createVNode(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),Vue.createElementVNode("div",ye,[Vue.unref(L).query.productId?(Vue.openBlock(),Vue.createBlock(b,{key:0,icon:Vue.unref(oe),onClick:F,type:"warning"},{default:Vue.withCtx(()=>[ke]),_:1},8,["icon"])):Vue.createCommentVNode("",!0),Vue.createVNode(b,{icon:Vue.unref(ne),onClick:V,type:"primary"},{default:Vue.withCtx(()=>[Ce]),_:1},8,["icon"])])]),Vue.createElementVNode("div",null,[Vue.createVNode(g,{wrap:""},{default:Vue.withCtx(()=>[Vue.createVNode(w,{modelValue:B.value,"onUpdate:modelValue":t[11]||(t[11]=e=>B.value=e),"active-text":"Show order、product info","inactive-text":"Hide order、product info",onChange:U},null,8,["modelValue"]),Vue.createVNode(w,{modelValue:S.value,"onUpdate:modelValue":t[12]||(t[12]=e=>S.value=e),"active-text":"Show remark info","inactive-text":"Hide remark info",onChange:P},null,8,["modelValue"])]),_:1})]),Vue.createElementVNode("div",null,[Vue.createElementVNode("span",he,Vue.toDisplayString(Vue.unref(a).state.label.salary)+":",1),Vue.createElementVNode("span",we,Vue.toDisplayString(Vue.unref(X).totalSalaryFormat),1)]),Vue.createVNode(be,{idKey:"reportId",columnConfigList:C.value,list:Vue.unref(Z),handleUpdate:H,handleEdit:Y,handleDelete:J},{expand:Vue.withCtx(e=>[]),_:1},8,["columnConfigList","list"]),Vue.createVNode(j,{title:Vue.unref(T)?"Add":"Edit",modelValue:Vue.unref(M),"onUpdate:modelValue":t[50]||(t[50]=e=>Vue.isRef(M)?M.value=e:null),width:"60%","close-on-click-modal":!1},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Le,[Vue.createVNode(b,{onClick:t[49]||(t[49]=e=>M.value=!1)},{default:Vue.withCtx(()=>[Be]),_:1}),Vue.createVNode(b,{type:"primary",onClick:G},{default:Vue.withCtx(()=>[Se]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(ue,{rules:Vue.unref(ee),model:Vue.unref(l),ref_key:"formRef",ref:K,"label-width":"auto","label-position":"top"},{default:Vue.withCtx(()=>[Vue.createVNode(r,{prop:"showFormDetail",label:"Operator"},{default:Vue.withCtx(()=>[Vue.createVNode(w,{modelValue:c.value,"onUpdate:modelValue":t[13]||(t[13]=e=>c.value=e),"active-text":"Show detail","inactive-text":"Hide detail",onChange:U},null,8,["modelValue"])]),_:1}),Vue.createVNode(r,{prop:"reportDate",label:Vue.unref(a).state.label.date},{default:Vue.withCtx(()=>[Vue.createVNode(p,{type:"date",modelValue:Vue.unref(l).reportDate,"onUpdate:modelValue":t[14]||(t[14]=e=>Vue.unref(l).reportDate=e),format:"YYYY-MM-DD",onChange:t[15]||(t[15]=e=>Vue.unref(l).reportDate=Vue.unref(v)(Vue.unref(l).reportDate,"yyyy-MM-dd"))},null,8,["modelValue"])]),_:1},8,["label"]),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:0,prop:"userId",label:Vue.unref(a).state.label.username},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).username,"onUpdate:modelValue":t[16]||(t[16]=e=>Vue.unref(l).username=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:1,prop:"testDevice",label:Vue.unref(a).state.label.deviceNumber},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).testDevice,"onUpdate:modelValue":t[17]||(t[17]=e=>Vue.unref(l).testDevice=e),clearable:"",placeholder:"请选择",disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).testDeviceList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),Vue.createVNode(r,{prop:"orderNo",label:Vue.unref(a).state.label.orderNo},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).orderNo,"onUpdate:modelValue":t[18]||(t[18]=e=>Vue.unref(l).orderNo=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"projectSequence",label:Vue.unref(a).state.label.projectSequence},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).projectSequence,"onUpdate:modelValue":t[19]||(t[19]=e=>Vue.unref(l).projectSequence=e)},null,8,["modelValue"])]),_:1},8,["label"]),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:2,prop:"designNumber",label:Vue.unref(a).state.label.designNumber},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).designNumber,"onUpdate:modelValue":t[20]||(t[20]=e=>Vue.unref(l).designNumber=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:3,prop:"orderCount",label:Vue.unref(a).state.label.orderCount},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).orderCount,"onUpdate:modelValue":t[21]||(t[21]=e=>Vue.unref(l).orderCount=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),Vue.createVNode(r,{prop:"processType",label:Vue.unref(a).state.label.processType},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).processType,"onUpdate:modelValue":t[22]||(t[22]=e=>Vue.unref(l).processType=e),clearable:"",placeholder:"请选择"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).processTypeList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:4,prop:"processProcedure",label:Vue.unref(a).state.label.processProcedure},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).processProcedure,"onUpdate:modelValue":t[23]||(t[23]=e=>Vue.unref(l).processProcedure=e),clearable:"",placeholder:"请选择",disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).processProcedureList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:5,prop:"clampingMinute",label:Vue.unref(a).state.label.clampingMinute},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).clampingMinute,"onUpdate:modelValue":t[24]||(t[24]=e=>Vue.unref(l).clampingMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:6,prop:"assistMinute",label:Vue.unref(a).state.label.assistMinute},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).assistMinute,"onUpdate:modelValue":t[25]||(t[25]=e=>Vue.unref(l).assistMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:7,prop:"runningMinute",label:Vue.unref(a).state.label.runningMinute},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).runningMinute,"onUpdate:modelValue":t[26]||(t[26]=e=>Vue.unref(l).runningMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:8,prop:"productStandMinute",label:Vue.unref(a).state.label.productStandMinute},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).productStandMinute,"onUpdate:modelValue":t[27]||(t[27]=e=>Vue.unref(l).productStandMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),Vue.createVNode(r,{prop:"schedule",label:Vue.unref(a).state.label.schedule},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).schedule,"onUpdate:modelValue":t[28]||(t[28]=e=>Vue.unref(l).schedule=e),clearable:"",placeholder:"请选择"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).scheduleList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"workMinute",label:Vue.unref(a).state.label.workMinute},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).workMinute,"onUpdate:modelValue":t[29]||(t[29]=e=>Vue.unref(l).workMinute=e),filterable:"","allow-create":Vue.unref(x)(Vue.unref(N),"admin"),clearable:"",placeholder:"请选择",onChange:t[30]||(t[30]=e=>Vue.unref(l).shouldCompleteCount=Math.round(10*Vue.unref(l).workMinute/Math.max(Vue.unref(l).clampingMinute+Vue.unref(l).assistMinute+Vue.unref(l).runningMinute,1))/10)},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).workMinuteList,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:`${e.label}（${e.value}）`,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","allow-create"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"shouldCompleteCount",label:Vue.unref(a).state.label.shouldCompleteCount},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).shouldCompleteCount,"onUpdate:modelValue":t[31]||(t[31]=e=>Vue.unref(l).shouldCompleteCount=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"actualCompleteCount",label:Vue.unref(a).state.label.actualCompleteCount},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(l).actualCompleteCount,"onUpdate:modelValue":t[32]||(t[32]=e=>Vue.unref(l).actualCompleteCount=e),style:{width:"60px"},controls:!1,min:0,onChange:z},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"serialNoList",label:Vue.unref(a).state.label.serialNoList},{default:Vue.withCtx(()=>[Vue.createVNode(b,{type:"primary",icon:Vue.unref(de),onClick:t[33]||(t[33]=e=>Vue.unref(l).serialNoList.push(""))},{default:Vue.withCtx(()=>[Ne]),_:1},8,["icon"]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(l).serialNoList,(e,k)=>(Vue.openBlock(),Vue.createBlock(i,{type:"number",key:`serialNo-${k}`,modelValue:Vue.unref(l).serialNoList[k],"onUpdate:modelValue":_=>Vue.unref(l).serialNoList[k]=_,onBlur:_=>O(e,k,Vue.unref(l).serialNoList),style:{width:"100%","margin-top":"10px"}},Vue.createSlots({prepend:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(`${Vue.unref(l).orderNo}-${Vue.unref(l).projectSequence}-`),1)]),_:2},[k>0?{name:"append",fn:Vue.withCtx(()=>[Vue.createVNode(b,{icon:Vue.unref(ie),onClick:_=>Vue.unref(l).serialNoList.splice(k,1)},null,8,["icon","onClick"])])}:void 0]),1032,["modelValue","onUpdate:modelValue","onBlur"]))),128))]),_:1},8,["label"]),c.value?(Vue.openBlock(),Vue.createBlock(r,{key:9,prop:"completeMinute",label:Vue.unref(a).state.label.completeMinute},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).completeMinute,"onUpdate:modelValue":t[34]||(t[34]=e=>Vue.unref(l).completeMinute=e),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):Vue.createCommentVNode("",!0),Vue.createVNode(r,{prop:"leaderSubsidyMinute",label:Vue.unref(a).state.label.leaderSubsidyMinute},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(l).leaderSubsidyMinute,"onUpdate:modelValue":t[35]||(t[35]=e=>Vue.unref(l).leaderSubsidyMinute=e),style:{width:"60px"},controls:!1,disabled:!Vue.unref(x)(Vue.unref(N),"admin")},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"deviceRunningTime",label:Vue.unref(a).state.label.deviceRunningTime},{default:Vue.withCtx(()=>[Vue.createVNode(y,{modelValue:Vue.unref(l).deviceRunningStartHour,"onUpdate:modelValue":t[36]||(t[36]=e=>Vue.unref(l).deviceRunningStartHour=e),style:{width:"100px"},disabled:Vue.unref(T),controls:!1},null,8,["modelValue","disabled"]),Me,Vue.createVNode(y,{modelValue:Vue.unref(l).deviceRunningStartMinute,"onUpdate:modelValue":t[37]||(t[37]=e=>Vue.unref(l).deviceRunningStartMinute=e),style:{width:"60px"},disabled:Vue.unref(T),controls:!1},null,8,["modelValue","disabled"]),Vue.createVNode(te,{style:{margin:"0 20px"}},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(se))]),_:1}),Vue.createVNode(y,{modelValue:Vue.unref(l).deviceRunningEndHour,"onUpdate:modelValue":t[38]||(t[38]=e=>Vue.unref(l).deviceRunningEndHour=e),style:{width:"100px"},min:Vue.unref(l).deviceRunningStartMinute>=59?Vue.unref(l).deviceRunningStartHour+1:Vue.unref(l).deviceRunningStartHour,controls:!1},null,8,["modelValue","min"]),De,Vue.createVNode(y,{modelValue:Vue.unref(l).deviceRunningEndMinute,"onUpdate:modelValue":t[39]||(t[39]=e=>Vue.unref(l).deviceRunningEndMinute=e),style:{width:"60px"},controls:!1,min:Vue.unref(l).deviceRunningEndHour>Vue.unref(l).deviceRunningStartHour?0:Vue.unref(l).deviceRunningStartMinute,max:59},null,8,["modelValue","min"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"remark",label:Vue.unref(a).state.label.description},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).remark,"onUpdate:modelValue":t[40]||(t[40]=e=>Vue.unref(l).remark=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"photoList",label:Vue.unref(a).state.label.photo},{default:Vue.withCtx(()=>[Vue.createVNode(ge,{photoList:Vue.unref(l).photoList},null,8,["photoList"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent1",label:Vue.unref(a).state.label.stopWorkingContent1},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).stopWorkingContent1,"onUpdate:modelValue":t[41]||(t[41]=e=>Vue.unref(l).stopWorkingContent1=e),filterable:"","allow-create":"",clearable:"",placeholder:"请选择"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).stopWorkingContent1List,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute1",label:Vue.unref(a).state.label.stopWorkingMinute1},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).stopWorkingMinute1,"onUpdate:modelValue":t[42]||(t[42]=e=>Vue.unref(l).stopWorkingMinute1=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent2",label:Vue.unref(a).state.label.stopWorkingContent2},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).stopWorkingContent2,"onUpdate:modelValue":t[43]||(t[43]=e=>Vue.unref(l).stopWorkingContent2=e),filterable:"","allow-create":"",clearable:"",placeholder:"请选择"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).stopWorkingContent2List,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute2",label:Vue.unref(a).state.label.stopWorkingMinute2},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).stopWorkingMinute2,"onUpdate:modelValue":t[44]||(t[44]=e=>Vue.unref(l).stopWorkingMinute2=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingContent3",label:Vue.unref(a).state.label.stopWorkingContent3},{default:Vue.withCtx(()=>[Vue.createVNode(n,{modelValue:Vue.unref(l).stopWorkingContent3,"onUpdate:modelValue":t[45]||(t[45]=e=>Vue.unref(l).stopWorkingContent3=e),filterable:"","allow-create":"",clearable:"",placeholder:"请选择"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(f).stopWorkingContent3List,e=>(Vue.openBlock(),Vue.createBlock(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"stopWorkingMinute3",label:Vue.unref(a).state.label.stopWorkingMinute3},{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"number",modelValue:Vue.unref(l).stopWorkingMinute3,"onUpdate:modelValue":t[46]||(t[46]=e=>Vue.unref(l).stopWorkingMinute3=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"improveSuggestion",label:Vue.unref(a).state.label.improveSuggestion},{default:Vue.withCtx(()=>[Vue.createVNode(i,{modelValue:Vue.unref(l).improveSuggestion,"onUpdate:modelValue":t[47]||(t[47]=e=>Vue.unref(l).improveSuggestion=e)},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(r,{prop:"valid",label:Vue.unref(a).state.label.valid},{default:Vue.withCtx(()=>[Vue.createVNode(le,{modelValue:Vue.unref(l).valid,"onUpdate:modelValue":t[48]||(t[48]=e=>Vue.unref(l).valid=e),name:"valid",disabled:!Vue.unref(x)(Vue.unref(N),"admin")},{default:Vue.withCtx(()=>[xe]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"]),Vue.createVNode(j,{title:"查看照片",modelValue:Vue.unref(h),"onUpdate:modelValue":t[53]||(t[53]=e=>Vue.isRef(h)?h.value=e:null),width:"60%"},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Ue,[Vue.createVNode(b,{onClick:t[51]||(t[51]=e=>h.value=!1)},{default:Vue.withCtx(()=>[Ee]),_:1}),Vue.createVNode(b,{type:"primary",onClick:t[52]||(t[52]=e=>h.value=!1)},{default:Vue.withCtx(()=>[Te]),_:1})])]),default:Vue.withCtx(()=>[Vue.unref($).length>0?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(Vue.unref($),e=>(Vue.openBlock(),Vue.createBlock(ae,{src:Vue.unref(A)(e.photoCompressUrl,""),fit:"cover","preview-src-list":[Vue.unref(A)(e.photoUrl,"")],"initial-index":0,class:"image-view"},null,8,["src","preview-src-list"]))),256)):(Vue.openBlock(),Vue.createBlock(re,{key:1,description:"Empty"}))]),_:1},8,["modelValue"])])}}});export{Pe as _};
