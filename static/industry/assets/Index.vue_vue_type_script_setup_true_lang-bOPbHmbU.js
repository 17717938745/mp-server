import{s as pe,p as fe,n as A,t as ce,v as be}from"./index-DfY7MOwJ.js";import{i as w,o as L,h as $,u as ve,q as R,t as he,b as ye,a as Ce}from"./main-Dirrnzcr.js";import{a as Ne}from"./Common-dWa9BEsb.js";import{V}from"./ViewContent.vue_vue_type_script_setup_true_lang-Dpo1Y2zC.js";import{_ as Pe}from"./ViewList.vue_vue_type_style_index_0_lang-qcv9jr1D.js";import{_ as P}from"./ImageUpload.vue_vue_type_script_setup_true_lang-BZyBfOer.js";const ge={class:"query-container"},xe={class:"query-btn"},we=Vue.createTextVNode("Search"),Le=Vue.createTextVNode("Add "),De={class:"douson-flex-item",style:{"align-items":"center"}},Se=Vue.createTextVNode("Download template"),ke=Vue.createTextVNode("Upload"),Ke=Vue.createTextVNode("Detail"),Ee=Vue.createTextVNode("Generate"),Ie={class:"dialog-footer"},Te=Vue.createTextVNode("Cancel"),_e=Vue.createTextVNode("Confirm"),$e=Vue.createElementVNode("span",null,"N.m",-1),je={class:"dialog-footer"},Be=Vue.createTextVNode("Cancel"),Ue=Vue.createTextVNode("Confirm"),ze=Vue.defineComponent({__name:"Index",setup(Me){VueRouter.useRouter();const a=Vuex.useStore(),Y=a.state.user,g=a.state.roleCodeList,j=Vue.ref(null),C=Vue.ref(null),I=Vue.ref(new Array),b=w(g,"assemblyManager"),v=b||w(g,"assemblyRecord"),D=b||w(g,"assemblyTesterRecord"),T=Vue.ref([{value:"expand",label:"",width:48,type:V.Expand},{value:"operator",labelKey:"viewAndEdit",width:189,type:V.Operator},{value:"serialNumber",labelKey:"serialNumber",width:90},{value:"purchaseOrderNo",labelKey:"purchaseOrderNo",width:91},{value:"poProject",labelKey:"poProject",width:49},{value:"saleOrderNo",labelKey:"saleOrderNo",width:78},{value:"orderProject",labelKey:"orderProject",width:49},{value:"materialNo",labelKey:"materialNo",width:87},{value:"materialDescription",labelKey:"materialDescription",width:210},{value:"designNumber",labelKey:"designNumber",width:89},{value:"orderCount",labelKey:"orderCount",width:47},{value:"deliveryDate",labelKey:"deliveryDate",width:91},{value:"completedQty",labelKey:"completedQty",width:47},{value:"description",labelKey:"description",width:156},{value:"valveBody",labelKey:"valveBody",width:89},{value:"valveBodyPhotoCount",labelKey:"valveBodyPhoto",width:52},{value:"valveBodyPhotoList",labelKey:"valveBodyPhoto",width:112,type:V.Image},{value:"valveCover",labelKey:"valveCover",width:121},{value:"valveCoverPhotoCount",labelKey:"valveCoverPhoto",width:52},{value:"valveCoverPhotoList",labelKey:"valveCoverPhoto",width:151,type:V.Image},{value:"gate",labelKey:"gate",width:121},{value:"gatePhotoCount",labelKey:"gatePhoto",width:52},{value:"gatePhotoList",labelKey:"gatePhoto",width:156,type:V.Image},{value:"valveSeat",labelKey:"valveSeat",width:121},{value:"valveSeatPhotoCount",labelKey:"valveSeatPhoto",width:52},{value:"valveSeatPhotoList",labelKey:"valveSeatPhoto",width:156,type:V.Image},{value:"valveStem",labelKey:"valveStem",width:156},{value:"valveStemPhotoCount",labelKey:"valveStemPhoto",width:65},{value:"valveStemPhotoList",labelKey:"valveStemPhoto",width:189,type:V.Image},{value:"assemblyPersonFormat",labelKey:"assemblyPerson",width:136},{value:"assemblyCompleteDate",labelKey:"assemblyCompleteDate",width:85},{value:"pressureTestPhotoCount",labelKey:"pressureTestPhoto",width:96},{value:"pressureTestPhotoList",labelKey:"pressureTestPhoto",width:189,type:V.Image},{value:"torqueNmFormat",originValue:"torqueNm",labelKey:"torqueNm",width:99},{value:"oilInjectionPhotoCount",labelKey:"oilInjection",width:62},{value:"oilInjectionPhotoList",labelKey:"oilInjectionPhoto",width:171,type:V.Image},{value:"testerFormat",labelKey:"tester",width:118},{value:"oilInjectionCompleteDate",labelKey:"oilInjectionCompleteDate",width:85}]),z=()=>{ve("douson/assembly/template",i.query.data)},B={serialNumber:"",maxSerialOrderIndex:0,serialIndex:0,createOrderCount:0,purchaseOrderNo:"",poProject:"",saleOrderNo:"",orderProject:"",materialNo:"",materialDescription:"",designNumber:"",deliveryDate:"",orderCount:0,completedQty:0,description:"",valveBody:"",valveBodyPhoto:"",valveBodyPhotoCount:0,valveBodyPhotoList:[],valveCover:"",valveCoverPhotoCount:0,valveCoverPhotoList:[],gate:"",gatePhotoCount:0,gatePhotoList:[],valveSeat:"",valveSeatPhotoCount:0,valveSeatPhotoList:[],valveStem:"",valveStemPhotoCount:0,valveStemPhotoList:[],assemblyPerson:"",oilInjectionCompleteDate:"",pressureTest:"",pressureTestPhoto:"",pressureTestPhotoCount:0,pressureTestPhotoList:[],torqueNm:null,oilInjectionPhotoCount:0,oilInjectionPhotoList:[],tester:"",assemblyCompleteDate:"",createDate:L(new Date,"yyyy-MM-dd"),responsiblePersonList:[a.state.user.userId],attachmentList:[]},_=Vue.ref([]),i=Vue.reactive({photoVisible:!1,photoList:new Array,expandRowKeys:new Array,query:{data:{serialNumber:"",purchaseOrderNo:"",poProject:"",saleOrderNo:"",orderProject:"",materialNo:"",materialDescription:"",designNumber:"",startDeliveryDate:"",endDeliveryDate:"",description:"",valveBody:"",assemblyCompleteType:w(g,"assemblyTesterRecord")?0:null,oilInjectionCompleteType:w(g,"assemblyRecord")||w(g,"assemblyTesterRecord")?1:null,startCreateDate:"",endCreateDate:"",department:"",responsibleTeam:"",optimizeType:"",existsProblem:"",username:"",serialNo:"",responsiblePerson:"",valid:!1},page:{page:Ne,limit:120}},tableData:new Array,total:0,formData:Object.assign({},B),formSave:!1,config:{processProcedureList:[],testDeviceList:[],customerShortNameList:[],departmentList:[],optimizeTypeList:[],responsibleTeamList:[]},userConfigList:new Array,formVisible:!1,formRuleList:{purchaseOrderNo:[{required:!0,message:"Please check",trigger:"blur"}],poProject:[{required:!0,message:"Please check",trigger:"blur"}],saleOrderNo:[{required:!0,message:"Please check",trigger:"blur"}],orderProject:[{required:!0,message:"Please check",trigger:"blur"}],materialNo:[{required:!0,message:"Please check",trigger:"blur"}],valveBodyPhotoList:[{required:!1,type:"array",min:0,max:4}],valveCoverPhotoList:[{required:!1,type:"array",min:0,max:4}],valveSeatPhotoList:[{required:!1,type:"array",min:0,max:4}],torqueNm:[{required:!1,type:"number",min:100,max:300}],gatePhotoList:[{required:!1,type:"array",min:0,max:4}],valveStemPhotoList:[{required:!1,type:"array",min:0,max:4}],pressureTestPhotoList:[{required:!1,type:"array",min:0,max:6}],oilInjectionPhotoList:[{required:!1,type:"array",min:0,max:2}]}}),Q={createOrderCount:[{required:!0,type:"number",min:1,message:"Please check",trigger:"blur"}]},G=(u,e,o,f="yyyy-MM-dd hh:mm:ss")=>{o=o||"createDate";const c=o.charAt(0).toUpperCase()+o.slice(1),h=`start${c}`,y=`end${c}`;u&&u.length>1?(e[h]=L(u[0],f),e[y]=L(u[1],f)):(e[h]="",e[y]=""),n()},H=u=>{window.open(`/industry/public/assembly?assemblyId=${u.param.assemblyId}`)},S=Vue.ref(!1),J=u=>{i.formData=Object.assign({},u.param),S.value=!0},W=()=>{j.value.validate(u=>{u&&R("douson/assembly/generate-list",i.formData).then(()=>{S.value=!1,ElementPlus.ElMessage.success("Generate list success"),n()})})},n=()=>{$("douson/assembly/page",i.query).then(u=>{i.tableData=u.list,i.total=u.total,ElementPlus.ElMessage.success("Query success")})},X=u=>{i.query.page.page=u,n()},Z=u=>{i.query.page.limit=u,n()},ee=({row:u,rowIndex:e})=>u.serialIndex===0?u.orderCount===u.completedQty?"row-green":"row-blue":u.completedQty>0?"row-gray":"",m=u=>u.serialIndex!==0;Promise.all([$("douson/config",{categoryIdList:["equipmentNo","equipmentPosition"]}),$("system/user/config/list",{})]).then(u=>{i.config=u[0].data,I.value=(u[1].list||[]).map(e=>({value:e.userId,label:e.name})),T.value=T.value.map(e=>(v&&(e.value==="valveBodyPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(console.log(`d.serialIndex: ${o.serialIndex}`),o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("valveBodyPhotoList")},100)}):e.value==="valveCoverPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("valveCoverPhotoList")},100)}):e.value==="gatePhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("gatePhotoList")},100)}):e.value==="valveSeatPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("valveSeatPhotoList")},100)}):e.value==="valveStemPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("valveStemPhotoList")},100)}):e.value==="description"&&(e.type=V.TextEdit,console.log(JSON.stringify(e)))),D&&(e.value==="pressureTestPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("pressureTestPhotoList")},100)}):e.value==="oilInjectionPhotoCount"?(e.type=V.Link,e.editable=m,e.openLink=o=>{if(o.serialIndex===0){ElementPlus.ElMessage.warning(a.state.label.mainDataNotAllowEdit);return}N(o),setTimeout(()=>{C.value.scrollToField("oilInjectionPhotoList")},100)}):e.value==="description"?e.type=V.TextEdit:e.value==="torqueNmFormat"&&(e.type=V.NumberEdit,e.editable=m)),e)),n()});const le=Vue.ref({}),te=Vue.ref(!1),x={},ae=(u,e)=>{console.log("file change, length: "+e.length)},oe=u=>(console.log("before upload file: "+u.uid),x[u.uid]=u,u),ue=u=>{const e=Object.keys(x);e.length>1?(ElementPlus.ElMessage.error("Too many upload"),e.forEach(f=>{delete x[f]})):e.length>0&&Promise.all(e.map(f=>{const c=x[f],h=new FormData;return h.set("filename",c.name),h.set("file",c),he("douson/assembly/upload",h)})).then(f=>(te.value=!0,le.value=(f[0]||{}).data||{},n(),e.forEach(c=>{delete x[c]}),Promise.resolve())).catch(f=>(ElementPlus.ElMessage.error("Upload failed"),e.forEach(c=>{delete x[c]}),Promise.reject()))},re=()=>{i.formData=Object.assign({},B),i.formVisible=!0,i.formSave=!0},N=u=>{i.formVisible=!0,i.formSave=!1,i.formData=Object.assign({},u)},ne=()=>{C.value.validate(u=>{u&&(i.formSave?R("douson/admin/plan",i.formData).then(()=>{i.formVisible=!1,ElementPlus.ElMessage.success("Add success"),n()}):U(i.formData))})},U=u=>ye("douson/assembly/merge",u).then(()=>{i.formVisible=!1,ElementPlus.ElMessage.success("Update success"),n()}),se=u=>{ElementPlus.ElMessageBox.confirm("Confirm Delete?","Tips",{type:"warning"}).then(()=>{Ce("/douson/assembly",{assemblyId:u.assemblyId}).then(()=>{ElementPlus.ElMessage.success("Delete success"),n()})})},{query:d,tableData:de,total:ie,formData:t,formSave:k,formVisible:K,formRuleList:p}={...Vue.toRefs(i)};return(u,e)=>{const o=Vue.resolveComponent("el-input"),f=Vue.resolveComponent("el-date-picker"),c=Vue.resolveComponent("el-option"),h=Vue.resolveComponent("el-select"),y=Vue.resolveComponent("el-button"),Ve=Vue.resolveComponent("el-upload"),M=Vue.resolveComponent("el-tag"),O=Vue.resolveComponent("el-link"),E=Vue.resolveComponent("el-input-number"),s=Vue.resolveComponent("el-form-item"),q=Vue.resolveComponent("el-form"),F=Vue.resolveComponent("el-dialog"),me=Vue.resolveComponent("el-affix");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",ge,[Vue.createVNode(o,{modelValue:Vue.unref(d).data.serialNumber,"onUpdate:modelValue":e[0]||(e[0]=l=>Vue.unref(d).data.serialNumber=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.serialNumber,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.purchaseOrderNo,"onUpdate:modelValue":e[1]||(e[1]=l=>Vue.unref(d).data.purchaseOrderNo=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.purchaseOrderNo,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.poProject,"onUpdate:modelValue":e[2]||(e[2]=l=>Vue.unref(d).data.poProject=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.poProject,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.saleOrderNo,"onUpdate:modelValue":e[3]||(e[3]=l=>Vue.unref(d).data.saleOrderNo=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.saleOrderNo,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.orderProject,"onUpdate:modelValue":e[4]||(e[4]=l=>Vue.unref(d).data.orderProject=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.orderProject,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.materialNo,"onUpdate:modelValue":e[5]||(e[5]=l=>Vue.unref(d).data.materialNo=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.materialNo,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.materialDescription,"onUpdate:modelValue":e[6]||(e[6]=l=>Vue.unref(d).data.materialDescription=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.materialDescription,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.designNumber,"onUpdate:modelValue":e[7]||(e[7]=l=>Vue.unref(d).data.designNumber=l),onKeyup:Vue.withKeys(n,["enter"]),placeholder:Vue.unref(a).state.label.designNumber,clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","onKeyup","placeholder"]),Vue.createVNode(f,{modelValue:_.value,"onUpdate:modelValue":e[8]||(e[8]=l=>_.value=l),onChange:e[9]||(e[9]=()=>{G(_.value,Vue.unref(d).data,"deliveryDate")}),type:"daterange",format:"YYYY-MM-DD","range-separator":"-","start-placeholder":`Start ${Vue.unref(a).state.label.deliveryDate}`,"end-placeholder":`End ${Vue.unref(a).state.label.deliveryDate}`},null,8,["modelValue","start-placeholder","end-placeholder"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.description,"onUpdate:modelValue":e[10]||(e[10]=l=>Vue.unref(d).data.description=l),placeholder:Vue.unref(a).state.label.description,onKeyup:Vue.withKeys(n,["enter"]),clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","placeholder","onKeyup"]),Vue.createVNode(o,{modelValue:Vue.unref(d).data.valveBody,"onUpdate:modelValue":e[11]||(e[11]=l=>Vue.unref(d).data.valveBody=l),placeholder:Vue.unref(a).state.label.valveBody,onKeyup:Vue.withKeys(n,["enter"]),clearable:"",onChange:n,class:"search-item"},null,8,["modelValue","placeholder","onKeyup"]),Vue.createVNode(h,{modelValue:Vue.unref(d).data.assemblyCompleteType,"onUpdate:modelValue":e[12]||(e[12]=l=>Vue.unref(d).data.assemblyCompleteType=l),onChange:n,filterable:"","allow-create":"",clearable:"",placeholder:`${Vue.unref(a).state.label.assemblyCompleteType}`,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList([{value:0,label:`${Vue.unref(a).state.label.alreadyComplete}`},{value:1,label:`${Vue.unref(a).state.label.notYetComplete}`}],l=>(Vue.openBlock(),Vue.createBlock(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createVNode(h,{modelValue:Vue.unref(d).data.oilInjectionCompleteType,"onUpdate:modelValue":e[13]||(e[13]=l=>Vue.unref(d).data.oilInjectionCompleteType=l),onChange:n,filterable:"","allow-create":"",clearable:"",placeholder:`${Vue.unref(a).state.label.oilInjectionCompleteType}`,class:"search-item"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList([{value:0,label:`${Vue.unref(a).state.label.alreadyComplete}`},{value:1,label:`${Vue.unref(a).state.label.notYetComplete}`}],l=>(Vue.openBlock(),Vue.createBlock(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),Vue.createElementVNode("div",xe,[Vue.createVNode(y,{icon:Vue.unref(pe),onClick:n,type:"primary"},{default:Vue.withCtx(()=>[we]),_:1},8,["icon"]),Vue.unref(b)?(Vue.openBlock(),Vue.createBlock(y,{key:0,icon:Vue.unref(fe),onClick:re,type:"success"},{default:Vue.withCtx(()=>[Le]),_:1},8,["icon"])):Vue.createCommentVNode("",!0)])]),Vue.createElementVNode("div",De,[Vue.createVNode(y,{icon:Vue.unref(A),onClick:z,type:"primary"},{default:Vue.withCtx(()=>[Se]),_:1},8,["icon"]),Vue.createVNode(Ve,{action:"#","show-file-list":!1,"on-change":ae,"before-upload":oe,"http-request":ue,accept:".xlsx,.xls",multiple:"",drag:!0},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.unref(b)?(Vue.openBlock(),Vue.createBlock(y,{key:0,icon:Vue.unref(A),onClick:n,type:"danger"},{default:Vue.withCtx(()=>[ke]),_:1},8,["icon"])):Vue.createCommentVNode("",!0)])]),_:1})]),Vue.createVNode(Pe,{idKey:"assemblyId",columnConfigList:T.value,list:Vue.unref(de),handleEdit:N,handleEditShow:()=>Vue.unref(D)||Vue.unref(v),handleUpdate:U,handleDelete:Vue.unref(Y).username==="admin"||Vue.unref(b)?se:null,page:Vue.unref(d).page,total:Vue.unref(ie),handlePageChange:X,handleLimitChange:Z,"detail-link":!1,handleTableRowClassName:ee},{operator:Vue.withCtx(l=>[Vue.createVNode(O,{icon:Vue.unref(ce),onClick:r=>H(l),class:"mr10",type:"info"},{default:Vue.withCtx(()=>[Vue.createVNode(M,{size:"small"},{default:Vue.withCtx(()=>[Ke]),_:1})]),_:2},1032,["icon","onClick"]),l.param.serialIndex===0?(Vue.openBlock(),Vue.createBlock(O,{key:0,icon:Vue.unref(be),onClick:r=>J(l),class:"mr10",type:l.param.maxSerialOrderIndex>=l.param.orderCount?"info":"success",disabled:l.param.maxSerialOrderIndex>=l.param.orderCount},{default:Vue.withCtx(()=>[Vue.createVNode(M,{size:"small",type:l.param.maxSerialOrderIndex>=l.param.orderCount?"info":"success"},{default:Vue.withCtx(()=>[Ee]),_:2},1032,["type"])]),_:2},1032,["icon","onClick","type","disabled"])):Vue.createCommentVNode("",!0)]),_:1},8,["columnConfigList","list","handleEditShow","handleDelete","page","total"]),Vue.createVNode(F,{title:"Generate list",modelValue:S.value,"onUpdate:modelValue":e[16]||(e[16]=l=>S.value=l),width:"60%","close-on-click-modal":!1},{footer:Vue.withCtx(()=>[Vue.createElementVNode("span",Ie,[Vue.createVNode(y,{onClick:e[15]||(e[15]=l=>S.value=!1)},{default:Vue.withCtx(()=>[Te]),_:1}),Vue.createVNode(y,{type:"primary",onClick:W},{default:Vue.withCtx(()=>[_e]),_:1})])]),default:Vue.withCtx(()=>[Vue.createVNode(q,{rules:Q,model:Vue.unref(t),ref_key:"generateFormRef",ref:j,"label-width":"auto","label-position":"top"},{default:Vue.withCtx(()=>[Vue.createVNode(s,{prop:"createOrderCount",label:Vue.unref(a).state.label.createOrderCount},{default:Vue.withCtx(()=>[Vue.createVNode(E,{style:{width:"300px"},min:1,max:Vue.unref(t).orderCount-Vue.unref(t).maxSerialOrderIndex,modelValue:Vue.unref(t).createOrderCount,"onUpdate:modelValue":e[14]||(e[14]=l=>Vue.unref(t).createOrderCount=l),placeholder:`1 <= input <= ${Vue.unref(t).orderCount-Vue.unref(t).maxSerialOrderIndex}`},null,8,["max","modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),Vue.createVNode(F,{title:Vue.unref(k)?"Add":"Edit",modelValue:Vue.unref(K),"onUpdate:modelValue":e[42]||(e[42]=l=>Vue.isRef(K)?K.value=l:null),width:"60%","close-on-click-modal":!1},{footer:Vue.withCtx(()=>[Vue.createVNode(me,{position:"bottom",offset:20},{default:Vue.withCtx(()=>[Vue.createElementVNode("span",je,[Vue.createVNode(y,{onClick:e[41]||(e[41]=l=>K.value=!1)},{default:Vue.withCtx(()=>[Be]),_:1}),Vue.createVNode(y,{type:"primary",onClick:ne},{default:Vue.withCtx(()=>[Ue]),_:1})])]),_:1})]),default:Vue.withCtx(()=>[Vue.createVNode(q,{rules:Vue.unref(p),model:Vue.unref(t),ref_key:"formRef",ref:C,"label-width":"auto","label-position":"top"},{default:Vue.withCtx(()=>[Vue.createVNode(s,{prop:"purchaseOrderNo",label:Vue.unref(a).state.label.purchaseOrderNo},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).purchaseOrderNo,"onUpdate:modelValue":e[17]||(e[17]=l=>Vue.unref(t).purchaseOrderNo=l),disabled:!Vue.unref(k)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"poProject",label:Vue.unref(a).state.label.poProject},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).poProject,"onUpdate:modelValue":e[18]||(e[18]=l=>Vue.unref(t).poProject=l),disabled:!Vue.unref(k)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"saleOrderNo",label:Vue.unref(a).state.label.saleOrderNo},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).saleOrderNo,"onUpdate:modelValue":e[19]||(e[19]=l=>Vue.unref(t).saleOrderNo=l),disabled:!Vue.unref(k)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"orderProject",label:Vue.unref(a).state.label.orderProject},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).orderProject,"onUpdate:modelValue":e[20]||(e[20]=l=>Vue.unref(t).orderProject=l),disabled:!Vue.unref(k)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"materialNo",label:Vue.unref(a).state.label.materialNo},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).materialNo,"onUpdate:modelValue":e[21]||(e[21]=l=>Vue.unref(t).materialNo=l),disabled:!Vue.unref(b)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"materialDescription",label:Vue.unref(a).state.label.materialDescription},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).materialDescription,"onUpdate:modelValue":e[22]||(e[22]=l=>Vue.unref(t).materialDescription=l),disabled:!Vue.unref(b)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"designNumber",label:Vue.unref(a).state.label.designNumber},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).designNumber,"onUpdate:modelValue":e[23]||(e[23]=l=>Vue.unref(t).designNumber=l),disabled:!Vue.unref(b)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"deliveryDate",label:Vue.unref(a).state.label.deliveryDate},{default:Vue.withCtx(()=>[Vue.createVNode(f,{type:"date",modelValue:Vue.unref(t).deliveryDate,"onUpdate:modelValue":e[24]||(e[24]=l=>Vue.unref(t).deliveryDate=l),format:"YYYY-MM-DD",disabled:!Vue.unref(b),onChange:e[25]||(e[25]=l=>Vue.unref(t).deliveryDate=Vue.unref(L)(Vue.unref(t).deliveryDate,"yyyy-MM-dd"))},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"orderCount",label:Vue.unref(a).state.label.orderCount},{default:Vue.withCtx(()=>[Vue.createVNode(E,{modelValue:Vue.unref(t).orderCount,"onUpdate:modelValue":e[26]||(e[26]=l=>Vue.unref(t).orderCount=l),style:{width:"60px"},controls:!1,min:0,max:999999,disabled:!(Vue.unref(t).serialIndex===0&&Vue.unref(b))},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"completedQty",label:Vue.unref(a).state.label.completedQty},{default:Vue.withCtx(()=>[Vue.createVNode(E,{modelValue:Vue.unref(t).completedQty,"onUpdate:modelValue":e[27]||(e[27]=l=>Vue.unref(t).completedQty=l),style:{width:"60px"},controls:!1,min:0,max:999999,disabled:!Vue.unref(b)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"description",label:Vue.unref(a).state.label.description},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).description,"onUpdate:modelValue":e[28]||(e[28]=l=>Vue.unref(t).description=l),disabled:!Vue.unref(b)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveBody",label:Vue.unref(a).state.label.valveBody},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).valveBody,"onUpdate:modelValue":e[29]||(e[29]=l=>Vue.unref(t).valveBody=l),disabled:!Vue.unref(v)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveBodyPhotoList",label:`${Vue.unref(a).state.label.valveBodyPhoto}(${(Vue.unref(p).valveBodyPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).valveBodyPhotoList,maxSize:+`${(Vue.unref(p).valveBodyPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(v)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveCover",label:Vue.unref(a).state.label.valveCover},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).valveCover,"onUpdate:modelValue":e[30]||(e[30]=l=>Vue.unref(t).valveCover=l),disabled:!Vue.unref(v)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveCoverPhotoList",label:`${Vue.unref(a).state.label.valveCoverPhoto}(${(Vue.unref(p).valveCoverPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).valveCoverPhotoList,maxSize:+`${(Vue.unref(p).valveCoverPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(v)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"gate",label:Vue.unref(a).state.label.gate},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).gate,"onUpdate:modelValue":e[31]||(e[31]=l=>Vue.unref(t).gate=l),disabled:!Vue.unref(v)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"gatePhotoList",label:`${Vue.unref(a).state.label.gatePhoto}(${(Vue.unref(p).gatePhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).gatePhotoList,maxSize:+`${(Vue.unref(p).gatePhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(v)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveSeat",label:Vue.unref(a).state.label.valveSeat},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).valveSeat,"onUpdate:modelValue":e[32]||(e[32]=l=>Vue.unref(t).valveSeat=l),disabled:!Vue.unref(v)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveSeatPhotoList",label:`${Vue.unref(a).state.label.valveSeatPhoto}(${(Vue.unref(p).valveSeatPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).valveSeatPhotoList,maxSize:+`${(Vue.unref(p).valveSeatPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(v)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveStem",label:Vue.unref(a).state.label.valveStem},{default:Vue.withCtx(()=>[Vue.createVNode(o,{modelValue:Vue.unref(t).valveStem,"onUpdate:modelValue":e[33]||(e[33]=l=>Vue.unref(t).valveStem=l),disabled:!Vue.unref(v)},null,8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"valveStemPhotoList",label:`${Vue.unref(a).state.label.valveStemPhoto}(${(Vue.unref(p).valveStemPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).valveStemPhotoList,maxSize:+`${(Vue.unref(p).valveStemPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(v)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"assemblyPerson",label:Vue.unref(a).state.label.assemblyPerson},{default:Vue.withCtx(()=>[Vue.createVNode(h,{modelValue:Vue.unref(t).assemblyPerson,"onUpdate:modelValue":e[34]||(e[34]=l=>Vue.unref(t).assemblyPerson=l),clearable:"",filterable:"",placeholder:`Please upload ${Vue.unref(a).state.label.valveBodyPhoto}`,disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(I.value,l=>(Vue.openBlock(),Vue.createBlock(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"oilInjectionCompleteDate",label:Vue.unref(a).state.label.oilInjectionCompleteDate},{default:Vue.withCtx(()=>[Vue.createVNode(f,{type:"date",modelValue:Vue.unref(t).oilInjectionCompleteDate,"onUpdate:modelValue":e[35]||(e[35]=l=>Vue.unref(t).oilInjectionCompleteDate=l),format:"YYYY-MM-DD HH:mm:ss",disabled:!0,onChange:e[36]||(e[36]=l=>Vue.unref(t).oilInjectionCompleteDate=Vue.unref(L)(Vue.unref(t).oilInjectionCompleteDate,"yyyy-MM-dd"))},null,8,["modelValue"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"pressureTestPhotoList",label:`${Vue.unref(a).state.label.pressureTestPhoto}(${(Vue.unref(p).pressureTestPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).pressureTestPhotoList,maxSize:+`${(Vue.unref(p).pressureTestPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(D)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"torqueNm",label:Vue.unref(a).state.label.torqueNm},{default:Vue.withCtx(()=>[Vue.createVNode(E,{modelValue:Vue.unref(t).torqueNm,"onUpdate:modelValue":e[37]||(e[37]=l=>Vue.unref(t).torqueNm=l),style:{width:"180px"},controls:!0,min:100,max:300,disabled:!Vue.unref(D)||!m(Vue.unref(t))},{suffix:Vue.withCtx(()=>[$e]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"oilInjectionPhotoList",label:`${Vue.unref(a).state.label.oilInjectionPhoto}(${(Vue.unref(p).oilInjectionPhotoList||[]).reduce((l,r)=>`Min: ${r.min}, Max: ${r.max}`,"Unlimited")})`},{default:Vue.withCtx(()=>[Vue.createVNode(P,{photoList:Vue.unref(t).oilInjectionPhotoList,maxSize:+`${(Vue.unref(p).oilInjectionPhotoList||[]).reduce((l,r)=>r.max,999)}`,disabled:!Vue.unref(D)||!m(Vue.unref(t))},null,8,["photoList","maxSize","disabled"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"tester",label:Vue.unref(a).state.label.tester},{default:Vue.withCtx(()=>[Vue.createVNode(h,{modelValue:Vue.unref(t).tester,"onUpdate:modelValue":e[38]||(e[38]=l=>Vue.unref(t).tester=l),clearable:"",filterable:"",placeholder:`Please upload ${Vue.unref(a).state.label.oilInjectionPhoto}`,disabled:!0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(I.value,l=>(Vue.openBlock(),Vue.createBlock(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),Vue.createVNode(s,{prop:"assemblyCompleteDate",label:Vue.unref(a).state.label.assemblyCompleteDate},{default:Vue.withCtx(()=>[Vue.createVNode(f,{type:"date",modelValue:Vue.unref(t).assemblyCompleteDate,"onUpdate:modelValue":e[39]||(e[39]=l=>Vue.unref(t).assemblyCompleteDate=l),format:"YYYY-MM-DD HH:mm:ss",disabled:!0,onChange:e[40]||(e[40]=l=>Vue.unref(t).assemblyCompleteDate=Vue.unref(L)(Vue.unref(t).assemblyCompleteDate,"yyyy-MM-dd"))},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"])])}}});export{ze as _};
