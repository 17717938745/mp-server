import{s as V}from"./index-DfY7MOwJ.js";import{o as t,v as i,w as u,h}from"./main-Dirrnzcr.js";import{D as _,a as b}from"./Common-dWa9BEsb.js";import{_ as f}from"./ViewList.vue_vue_type_style_index_0_lang-qcv9jr1D.js";const C={class:"query-container"},v={class:"query-btn"},D=Vue.createTextVNode("Search"),K=Vue.defineComponent({__name:"Summary",setup(g){VueRouter.useRouter();const o=Vuex.useStore();o.state.user,o.state.roleCodeList,Vue.ref(null),Vue.ref(new Array);const d=Vue.ref([{value:"index",labelKey:"index",width:51},{value:"assemblyCompleteDate",labelKey:"assemblyCompleteDate",width:92},{value:"saleOrderNo",labelKey:"saleOrderNo",width:78},{value:"orderProject",labelKey:"orderProject",width:56},{value:"materialNo",labelKey:"materialNo",width:109},{value:"orderCount",labelKey:"orderCount",width:67},{value:"materialDescription",labelKey:"materialDescription",width:258},{value:"designNumber",labelKey:"designNumber",width:102},{value:"deliveryDate",labelKey:"deliveryDate",width:109},{value:"assemblyCompleteCount",labelKey:"assemblyCompleteCount",width:69},{value:"oilInjectionCompleteCount",labelKey:"oilInjectionCompleteCount",width:87}]),e=Vue.reactive({dateTimeList:[i(),u()],userConfigList:new Array,query:{data:{department:"",assemblyType:"",user:"",date:"",startDate:t(i(),"yyyy-MM-dd"),endDate:t(u(),"yyyy-MM-dd")},page:{page:b,limit:_}},tableData:new Array,config:{assemblyTypeList:[],departmentList:[]}}),m=()=>{e.dateTimeList&&e.dateTimeList.length>1?(e.query.data.startDate=t(e.dateTimeList[0],"yyyy-MM-dd"),e.query.data.endDate=t(e.dateTimeList[1],"yyyy-MM-dd")):(e.query.data.startDate="",e.query.data.endDate=""),a()},a=()=>{h("douson/assembly/summary-list",e.query.data).then(r=>{e.tableData=r.list,ElementPlus.ElMessage.success("Query success")})};a();const{tableData:y,dateTimeList:l}={...Vue.toRefs(e)};return(r,s)=>{const c=Vue.resolveComponent("el-date-picker"),p=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",C,[Vue.createVNode(c,{modelValue:Vue.unref(l),"onUpdate:modelValue":s[0]||(s[0]=n=>Vue.isRef(l)?l.value=n:null),onChange:m,type:"daterange",format:"YYYY-MM-DD","range-separator":"-","start-placeholder":"Start due date","end-placeholder":"End due date",style:{width:"180px","margin-right":"20px"}},null,8,["modelValue"]),Vue.createElementVNode("div",v,[Vue.createVNode(p,{icon:Vue.unref(V),onClick:a,type:"primary"},{default:Vue.withCtx(()=>[D]),_:1},8,["icon"])])]),Vue.createVNode(f,{idKey:"assemblyId",columnConfigList:d.value,list:Vue.unref(y)},{operator:Vue.withCtx(n=>[]),_:1},8,["columnConfigList","list"])])}}});export{K as _};
