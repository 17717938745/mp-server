import{h as b,y as h}from"./main-Dirrnzcr.js";import{V as l,_ as y}from"./ViewContent.vue_vue_type_script_setup_true_lang-Dpo1Y2zC.js";import{h as V}from"./IndustryUtil-CgRifmxX.js";import{o as _}from"./index-DfY7MOwJ.js";const f={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"flex-start","margin-bottom":"20px",position:"absolute",width:"100%",top:"20px"},id:"printContainer"},v={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",width:"595px"}},x={style:{"text-align":"center"}},w=Vue.createTextVNode(" 精益持续改善 Cải thiện sai lệch "),C={class:"douson-serial-no"},g=Vue.createTextVNode("` "),k=Vue.defineComponent({__name:"Plan",setup(K){VueRouter.useRouter();const i=VueRouter.useRoute(),e=Vuex.useStore();e.state.roleCodeList;const u="planId",c=Vue.ref([{value:"createDate",label:e.state.label.createDate,labelKey:"createDate",width:98},{value:"creatorFormat",label:e.state.label.username,labelKey:"username",width:110},{value:"departmentFormat",label:e.state.label.department,labelKey:"department",width:154},{value:"optimizeTypeFormat",label:e.state.label.optimizeType,labelKey:"optimizeType",width:128},{value:"existsProblem",label:e.state.label.existsProblem,labelKey:"existsProblem",width:334,type:l.TextArea,showOverflow:!0},{value:"solveScheme",label:e.state.label.solveScheme,labelKey:"solveScheme",width:334,type:l.TextArea,showOverflow:!0},{value:"responsiblePersonFormat",label:e.state.label.responsiblePerson,labelKey:"responsiblePerson",width:128},{value:"planCompleteTime",label:e.state.label.planCompleteTime,labelKey:"planCompleteTime",width:98},{value:"awardAmountFormat",label:e.state.label.awardAmount,labelKey:"awardAmount",width:87},{value:"valid",label:e.state.label.valid,labelKey:"valid",width:68,type:l.Valid},{value:"beforePhotoList",label:e.state.label.photoList,labelKey:"beforePlanThreePhoto",width:269,type:l.Image},{value:"afterPhotoList",label:e.state.label.photoList,labelKey:"afterPlanThreePhoto",width:269,type:l.Image},{value:"attachmentList",label:e.state.label.photoList,labelKey:"supportAttachment",width:269,type:l.Attachment}]),r=Vue.ref({});b("douson/plan",{planId:i.query.planId}).then(a=>{r.value=a.data||{},ElementPlus.ElMessage.success("Query success"),setTimeout(()=>{var s;const t=(((s=document.getElementById("printDescription"))==null?void 0:s.offsetHeight)||1024)+450+"px",n=document.getElementById("printContainer");n&&(n.style.height=t)},1e3)});const d=()=>{const a=h(`/industry/public/plan?planId=${i.query.planId}`),t=document.createElement("input");t.value=a,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),ElementPlus.ElMessage.success("Copy success")};return(a,t)=>{const n=Vue.resolveComponent("el-icon"),s=Vue.resolveComponent("el-descriptions-item"),p=Vue.resolveComponent("el-descriptions");return Vue.openBlock(),Vue.createElementBlock("div",f,[Vue.createElementVNode("div",v,[Vue.createElementVNode("h1",x,[Vue.createElementVNode("span",{style:{"font-size":"36px"},onClick:d},[w,Vue.createVNode(n,{style:{"vertical-align":"middle"}},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(_))]),_:1})])]),Vue.createElementVNode("div",C,Vue.toDisplayString(r.value.serialNo),1),Vue.createVNode(p,{column:1,style:{width:"100%"},border:"",id:"printDescription"},{default:Vue.withCtx(()=>[g,(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(V)(c.value,[],!0,!1,[],[]),(o,P)=>(Vue.openBlock(),Vue.createBlock(s,{key:o.value,label:o.labelKey?Vue.unref(e).state.label[o.labelKey]:o.label,align:"center","label-class-name":"plan-print-label description-print-border fixed-width","class-name":"description-print-border"},{default:Vue.withCtx(()=>[Vue.createVNode(y,{idKey:u,viewConfig:o,row:r.value},{expand:Vue.withCtx(m=>[Vue.renderSlot(a.$slots,"expand",{param:m.param})]),_:2},1032,["viewConfig","row"])]),_:2},1032,["label"]))),128))]),_:3})])])}}});export{k as default};
